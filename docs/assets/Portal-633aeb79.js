import{r}from"./jsx-runtime-d4f0a224.js";import{L as h,h as d,l as H,M as C,N as U,O as b,P as z,Q as A,r as B}from"./useMergedState-f9769ca5.js";import{K as M}from"./Keyframes-0c92003a.js";import{b as K}from"./zoom-0c098fb8.js";import{g as N}from"./getScrollBarSize-75144cb7.js";const W=new M("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Y=new M("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),ae=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:a}=e,u=`${a}-fade`,n=t?"&":"";return[K(u,W,Y,e.motionDurationMid,t),{[`
        ${n}${u}-enter,
        ${n}${u}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${n}${u}-leave`]:{animationTimingFunction:"linear"}}]};var k=r.createContext(null),L=[];function j(e,t){var a=r.useState(function(){if(!h())return null;var o=document.createElement("div");return o}),u=d(a,1),n=u[0],i=r.useRef(!1),c=r.useContext(k),l=r.useState(L),v=d(l,2),s=v[0],p=v[1],R=c||(i.current?void 0:function(o){p(function(f){var g=[o].concat(H(f));return g})});function m(){n.parentElement||document.body.appendChild(n),i.current=!0}function S(){var o;(o=n.parentElement)===null||o===void 0||o.removeChild(n),i.current=!1}return C(function(){return e?c?c(m):m():S(),S},[e]),C(function(){s.length&&(s.forEach(function(o){return o()}),p(L))},[s]),[n,R]}function G(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var J="rc-util-locker-".concat(Date.now()),P=0;function V(e){var t=!!e,a=r.useState(function(){return P+=1,"".concat(J,"_").concat(P)}),u=d(a,1),n=u[0];C(function(){if(t){var i=N(),c=G();U(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else b(n);return function(){b(n)}},[t,n])}var x=!1;function X(e){return typeof e=="boolean"&&(x=e),x}var I=function(t){return t===!1?!1:!h()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},oe=r.forwardRef(function(e,t){var a=e.open,u=e.autoLock,n=e.getContainer;e.debug;var i=e.autoDestroy,c=i===void 0?!0:i,l=e.children,v=r.useState(a),s=d(v,2),p=s[0],R=s[1],m=p||a;r.useEffect(function(){(c||a)&&R(a)},[a,c]);var S=r.useState(function(){return I(n)}),o=d(S,2),f=o[0],g=o[1];r.useEffect(function(){var $=I(n);g($??null)});var F=j(m&&!f),E=d(F,2),w=E[0],O=E[1],y=f??w;V(u&&a&&h()&&(y===w||y===document.body));var D=null;if(l&&z(l)&&t){var Q=l;D=Q.ref}var T=A(D,t);if(!m||!h()||f===void 0)return null;var q=y===!1||X(),_=l;return t&&(_=r.cloneElement(l,{ref:T})),r.createElement(k.Provider,{value:O},q?_:B.createPortal(_,y))});export{oe as P,ae as i};
