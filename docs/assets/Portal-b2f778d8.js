import{r as a}from"./jsx-runtime-d4f0a224.js";import{B as R,x as d,U,z as C,ac as z,ad as b,s as B,a5 as H,r as A}from"./index-d971bd58.js";import{K as k,l as K}from"./api-rtkq-ff3ef5cb.js";import{g as W}from"./getScrollBarSize-4e34ba55.js";const N=new k("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Y=new k("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),ae=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:r}=e,u=`${r}-fade`,n=t?"&":"";return[K(u,N,Y,e.motionDurationMid,t),{[`
        ${n}${u}-enter,
        ${n}${u}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${n}${u}-leave`]:{animationTimingFunction:"linear"}}]};var F=a.createContext(null),x=[];function j(e,t){var r=a.useState(function(){if(!R())return null;var o=document.createElement("div");return o}),u=d(r,1),n=u[0],i=a.useRef(!1),c=a.useContext(F),l=a.useState(x),v=d(l,2),s=v[0],p=v[1],g=c||(i.current?void 0:function(o){p(function(f){var h=[o].concat(U(f));return h})});function m(){n.parentElement||document.body.appendChild(n),i.current=!0}function S(){var o;(o=n.parentElement)===null||o===void 0||o.removeChild(n),i.current=!1}return C(function(){return e?c?c(m):m():S(),S},[e]),C(function(){s.length&&(s.forEach(function(o){return o()}),p(x))},[s]),[n,g]}function G(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var J="rc-util-locker-".concat(Date.now()),L=0;function V(e){var t=!!e,r=a.useState(function(){return L+=1,"".concat(J,"_").concat(L)}),u=d(r,1),n=u[0];C(function(){if(t){var i=W(),c=G();z(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else b(n);return function(){b(n)}},[t,n])}var P=!1;function X(e){return typeof e=="boolean"&&(P=e),P}var I=function(t){return t===!1?!1:!R()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},re=a.forwardRef(function(e,t){var r=e.open,u=e.autoLock,n=e.getContainer;e.debug;var i=e.autoDestroy,c=i===void 0?!0:i,l=e.children,v=a.useState(r),s=d(v,2),p=s[0],g=s[1],m=p||r;a.useEffect(function(){(c||r)&&g(r)},[r,c]);var S=a.useState(function(){return I(n)}),o=d(S,2),f=o[0],h=o[1];a.useEffect(function(){var $=I(n);h($??null)});var M=j(m&&!f),E=d(M,2),w=E[0],T=E[1],y=f??w;V(u&&r&&R()&&(y===w||y===document.body));var D=null;if(l&&B(l)&&t){var q=l;D=q.ref}var O=H(D,t);if(!m||!R()||f===void 0)return null;var Q=y===!1||X(),_=l;return t&&(_=a.cloneElement(l,{ref:O})),a.createElement(F.Provider,{value:T},Q?_:A.createPortal(_,y))});export{re as P,ae as i};
