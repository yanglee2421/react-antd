var C=Object.defineProperty;var E=(e,t,s)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var a=(e,t,s)=>(E(e,typeof t!="symbol"?t+"":t,s),s),S=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var i=(e,t,s)=>(S(e,t,"read from private field"),s?s.call(e):t.get(e)),c=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},x=(e,t,s,h)=>(S(e,t,"write to private field"),h?h.call(e,s):t.set(e,s),s);class l{constructor(t,s){this.min=t,this.max=s}get(){return Math.random()*(this.max-this.min)+this.min}}const P=new l(1,4),A=new l(-.5,.5),k=new l(1,2),$=new l(.5,1);var v,M;class F{constructor(t){c(this,v);a(this,"x",0);a(this,"y",0);a(this,"xS",0);a(this,"yS",2);a(this,"r",0);a(this,"color","");this.canvas=t,this.reset();const s=new l(0,this.canvas.height);this.y=s.get()}reset(){const t=new l(0,this.canvas.width);this.x=t.get(),this.y=0,this.xS=A.get(),this.yS=k.get(),this.r=P.get(),this.color=`rgba(255,255,255,${$.get()})`}draw(){const t=this.canvas.getContext("2d");t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fill()}update(){i(this,v,M)||this.reset(),this.x+=this.xS,this.y+=this.yS,this.draw()}}v=new WeakSet,M=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var w,m;class X{constructor(t,s=100){c(this,w,[]);c(this,m,0);this.canvas=t;for(let h=0;h<s;h++)i(this,w).push(new F(t))}animation(){x(this,m,requestAnimationFrame(this.animation.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:h}=this.canvas;t.clearRect(0,0,s,h),i(this,w).forEach(r=>{r.update()})}abortAnimation(){cancelAnimationFrame(i(this,m))}}w=new WeakMap,m=new WeakMap;const b=new l(-1,1),L=new l(2,4);class p{constructor(t,s){a(this,"xSpeed",b.get());a(this,"ySpeed",b.get());a(this,"radius",L.get());a(this,"x");a(this,"y");this.canvas=t,this.color=s,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(${s}, ${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:s}=this.canvas;(this.x<0||this.x>t)&&(this.xSpeed*=-1),(this.y<0||this.y>s)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed,this.draw()}}var o,y,n,g;class Y{constructor(t,s=100,h=100,r="254, 250, 244"){c(this,o,[]);c(this,y,0);c(this,n,null);c(this,g,new AbortController);this.canvas=t,this.lineMax=h,this.color=r;for(let u=0;u<s;u++)i(this,o).push(new p(this.canvas,this.color))}drawLine(){i(this,o).forEach((t,s)=>{i(this,o).slice(s+1).forEach(h=>{const r=Math.abs(t.x-h.x);if(r>this.lineMax)return;const u=Math.abs(t.y-h.y);if(u>this.lineMax)return;const f=Math.sqrt(r**2+u**2);if(f>this.lineMax)return;const d=this.canvas.getContext("2d");d.beginPath(),d.moveTo(t.x,t.y),d.lineTo(h.x,h.y),d.strokeStyle=`rgba(${this.color}, ${1-f/this.lineMax})`,d.lineWidth=.8,d.stroke()})})}animate(){x(this,y,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),i(this,o).forEach(s=>s.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(i(this,y))}bindEvent(){x(this,g,new AbortController);const{signal:t}=i(this,g);this.canvas.addEventListener("mouseover",s=>{if(i(this,n))return;const{clientX:h,clientY:r}=s;x(this,n,new p(this.canvas,this.color)),i(this,n).x=h,i(this,n).y=r,i(this,n).xSpeed=0,i(this,n).ySpeed=0,i(this,o).push(i(this,n))},{signal:t}),this.canvas.addEventListener("mousemove",s=>{if(!i(this,n))return;const{clientX:h,clientY:r}=s;i(this,n).x=h,i(this,n).y=r},{signal:t}),this.canvas.addEventListener("mouseout",()=>{!i(this,n)||i(this,o).includes(i(this,n))&&(i(this,o).splice(i(this,o).indexOf(i(this,n)),1),x(this,n,null))},{signal:t})}abortEvent(){i(this,g).abort()}}o=new WeakMap,y=new WeakMap,n=new WeakMap,g=new WeakMap;export{Y as P,X as S};
