var A=Object.defineProperty;var C=(h,t,s)=>t in h?A(h,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[t]=s;var n=(h,t,s)=>(C(h,typeof t!="symbol"?t+"":t,s),s),b=(h,t,s)=>{if(!t.has(h))throw TypeError("Cannot "+s)};var i=(h,t,s)=>(b(h,t,"read from private field"),s?s.call(h):t.get(h)),o=(h,t,s)=>{if(t.has(h))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(h):t.set(h,s)},d=(h,t,s,e)=>(b(h,t,"write to private field"),e?e.call(h,s):t.set(h,s),s);class g{constructor(t,s){this.min=t,this.max=s}get(){return Math.random()*(this.max-this.min)+this.min}}const S=new g(-.5,.5),k=new g(1,3),L=new g(1,4);var y,E;class R{constructor(t){o(this,y);n(this,"x",0);n(this,"y",0);n(this,"xv",0);n(this,"yv",2);n(this,"r",0);n(this,"color","");this.canvas=t,this.reset()}reset(){this.x=Math.random()*this.canvas.width,this.y=0,this.xv=S.get(),this.yv=k.get(),this.r=L.get(),this.color=`rgba(255,255,255,${.5+this.r/4})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.fill()}update(){i(this,y,E)||this.reset(),this.x+=this.xv,this.y+=this.yv,this.draw()}}y=new WeakSet,E=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var x,u;class ${constructor(t,s=100){o(this,x,[]);o(this,u,0);this.canvas=t,this.number=s}animate(){d(this,u,requestAnimationFrame(this.animate.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:e}=this.canvas;t.clearRect(0,0,s,e),i(this,x).length<this.number&&i(this,x).push(new R(this.canvas)),i(this,x).forEach(c=>c.update())}abortAnimate(){cancelAnimationFrame(i(this,u)),d(this,x,[])}}x=new WeakMap,u=new WeakMap;const M=new g(-1,1),F=new g(2,4);class P{constructor(t){n(this,"xv",M.get());n(this,"yv",M.get());n(this,"radius",F.get());n(this,"x");n(this,"y");n(this,"color");this.canvas=t,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(254,250,255,${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.closePath(),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:s}=this.canvas;(this.x<0||this.x>t)&&(this.xv*=-1),(this.y<0||this.y>s)&&(this.yv*=-1),this.x+=this.xv,this.y+=this.yv,this.draw()}}var r,m,a,v;class p{constructor(t,s=100,e=100){o(this,r,[]);o(this,m,0);o(this,a,null);o(this,v,new AbortController);this.canvas=t,this.lineMax=e;for(let c=0;c<s;c++)i(this,r).push(new P(this.canvas))}drawLine(){i(this,r).forEach((t,s)=>{i(this,r).slice(s+1).forEach(e=>{const c=Math.abs(t.x-e.x);if(c>this.lineMax)return;const w=Math.abs(t.y-e.y);if(w>this.lineMax)return;const f=Math.sqrt(c**2+w**2);if(f>this.lineMax)return;const l=this.canvas.getContext("2d");l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(e.x,e.y),l.closePath(),l.strokeStyle=`rgba(254,250,255, ${1-f/this.lineMax})`,l.lineWidth=.8,l.stroke()})})}animate(){d(this,m,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),i(this,r).forEach(s=>s.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(i(this,m))}bindEvent(){d(this,v,new AbortController);const{signal:t}=i(this,v);this.canvas.addEventListener("mouseover",({clientX:s,clientY:e})=>{i(this,a)||(d(this,a,new P(this.canvas)),i(this,a).x=s,i(this,a).y=e,i(this,a).xv=0,i(this,a).yv=0,i(this,r).push(i(this,a)))},{signal:t}),this.canvas.addEventListener("mousemove",({clientX:s,clientY:e})=>{!i(this,a)||(i(this,a).x=s,i(this,a).y=e)},{signal:t}),this.canvas.addEventListener("mouseout",()=>{!i(this,a)||i(this,r).includes(i(this,a))&&(i(this,r).splice(i(this,r).indexOf(i(this,a)),1),d(this,a,null))},{signal:t})}abortEvent(){i(this,v).abort()}}r=new WeakMap,m=new WeakMap,a=new WeakMap,v=new WeakMap;export{p as P,$ as S};
