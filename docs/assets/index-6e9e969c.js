import{r as s,R as M,u as j,j as c,F as z,a as e,b as P,c as U,C as H,d as V,M as g}from"./index-febb6133.js";import{P as q}from"./class-particle-d627ccf9.js";import{F as u,C as A}from"./index-e4c4efc2.js";import{C as R}from"./index-92903092.js";import{I as h}from"./index-c10e5a9a.js";import{A as N,_ as p}from"./AntdIcon-7a21e915.js";import{B as S}from"./button-17c006b5.js";import"./index-c63f4739.js";import"./index-9b59e8d6.js";import"./EllipsisOutlined-c77cd364.js";import"./index-21468f8e.js";import"./Dropdown-903d5d2b.js";import"./useFlexGapSupport-f958fbc2.js";var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const T=E;var B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const $=B;var I=function(_,b){return s.createElement(N,p(p({},_),{},{ref:b,icon:T}))};I.displayName="LockOutlined";const k=s.forwardRef(I);var L=function(_,b){return s.createElement(N,p(p({},_),{},{ref:b,icon:$}))};L.displayName="UserOutlined";const F=s.forwardRef(L),D="_absolute_1ubwx_1",G="_relative_1ubwx_5",J="_fixed_1ubwx_9",K="_sticky_1ubwx_13",Q="_none_1ubwx_17",W="_flex_1ubwx_21",X="_b_1ubwx_226",Y="_border_1ubwx_351",Z="_shadow_1ubwx_360",ee="_clearfix_1ubwx_851",O={absolute:D,relative:G,fixed:J,sticky:K,none:Q,flex:W,"flex-1":"_flex-1_1ubwx_25","flex-1-hidden":"_flex-1-hidden_1ubwx_29","flex-1-auto":"_flex-1-auto_1ubwx_34","flex-column":"_flex-column_1ubwx_40","justify-start":"_justify-start_1ubwx_46","align-start":"_align-start_1ubwx_50","start-start":"_start-start_1ubwx_54","start-center":"_start-center_1ubwx_59","start-end":"_start-end_1ubwx_64","start-stretch":"_start-stretch_1ubwx_69","start-between":"_start-between_1ubwx_74","start-around":"_start-around_1ubwx_79","start-evenly":"_start-evenly_1ubwx_84","justify-center":"_justify-center_1ubwx_89","align-center":"_align-center_1ubwx_93","center-start":"_center-start_1ubwx_97","center-center":"_center-center_1ubwx_102","center-end":"_center-end_1ubwx_107","center-stretch":"_center-stretch_1ubwx_112","center-between":"_center-between_1ubwx_117","center-around":"_center-around_1ubwx_122","center-evenly":"_center-evenly_1ubwx_127","justify-end":"_justify-end_1ubwx_132","align-end":"_align-end_1ubwx_136","end-start":"_end-start_1ubwx_140","end-center":"_end-center_1ubwx_145","end-end":"_end-end_1ubwx_150","end-stretch":"_end-stretch_1ubwx_155","end-between":"_end-between_1ubwx_160","end-around":"_end-around_1ubwx_165","end-evenly":"_end-evenly_1ubwx_170","justify-stretch":"_justify-stretch_1ubwx_175","align-stretch":"_align-stretch_1ubwx_179","stretch-start":"_stretch-start_1ubwx_183","stretch-center":"_stretch-center_1ubwx_188","stretch-end":"_stretch-end_1ubwx_193","stretch-stretch":"_stretch-stretch_1ubwx_198","stretch-between":"_stretch-between_1ubwx_203","stretch-around":"_stretch-around_1ubwx_208","stretch-evenly":"_stretch-evenly_1ubwx_213","justify-between":"_justify-between_1ubwx_218","align-between":"_align-between_1ubwx_222","between-start":"_between-start_1ubwx_226","between-center":"_between-center_1ubwx_231","between-end":"_between-end_1ubwx_236","between-stretch":"_between-stretch_1ubwx_241","between-between":"_between-between_1ubwx_246","between-around":"_between-around_1ubwx_251","between-evenly":"_between-evenly_1ubwx_256","justify-around":"_justify-around_1ubwx_261","align-around":"_align-around_1ubwx_265","around-start":"_around-start_1ubwx_269","around-center":"_around-center_1ubwx_274","around-end":"_around-end_1ubwx_279","around-stretch":"_around-stretch_1ubwx_284","around-between":"_around-between_1ubwx_289","around-around":"_around-around_1ubwx_294","around-evenly":"_around-evenly_1ubwx_299","justify-evenly":"_justify-evenly_1ubwx_304","align-evenly":"_align-evenly_1ubwx_308","evenly-start":"_evenly-start_1ubwx_312","evenly-center":"_evenly-center_1ubwx_317","evenly-end":"_evenly-end_1ubwx_322","evenly-stretch":"_evenly-stretch_1ubwx_327","evenly-between":"_evenly-between_1ubwx_332","evenly-around":"_evenly-around_1ubwx_337","evenly-evenly":"_evenly-evenly_1ubwx_342",b:X,border:Y,"m-center":"_m-center_1ubwx_355",shadow:Z,"w-25":"_w-25_1ubwx_364","w-25w":"_w-25w_1ubwx_368","h-25":"_h-25_1ubwx_372","h-25h":"_h-25h_1ubwx_376","wh-25":"_wh-25_1ubwx_380","w-50":"_w-50_1ubwx_385","w-50w":"_w-50w_1ubwx_389","h-50":"_h-50_1ubwx_393","h-50h":"_h-50h_1ubwx_397","wh-50":"_wh-50_1ubwx_401","w-75":"_w-75_1ubwx_406","w-75w":"_w-75w_1ubwx_410","h-75":"_h-75_1ubwx_414","h-75h":"_h-75h_1ubwx_418","wh-75":"_wh-75_1ubwx_422","w-100":"_w-100_1ubwx_427","w-100w":"_w-100w_1ubwx_431","h-100":"_h-100_1ubwx_435","h-100h":"_h-100h_1ubwx_439","wh-100":"_wh-100_1ubwx_443","p-0":"_p-0_1ubwx_448","px-0":"_px-0_1ubwx_452","py-0":"_py-0_1ubwx_456","pt-0":"_pt-0_1ubwx_460","pr-0":"_pr-0_1ubwx_464","pb-0":"_pb-0_1ubwx_468","pl-0":"_pl-0_1ubwx_472","p-1":"_p-1_1ubwx_476","px-1":"_px-1_1ubwx_480","py-1":"_py-1_1ubwx_484","pt-1":"_pt-1_1ubwx_488","pr-1":"_pr-1_1ubwx_492","pb-1":"_pb-1_1ubwx_496","pl-1":"_pl-1_1ubwx_500","p-2":"_p-2_1ubwx_504","px-2":"_px-2_1ubwx_508","py-2":"_py-2_1ubwx_512","pt-2":"_pt-2_1ubwx_516","pr-2":"_pr-2_1ubwx_520","pb-2":"_pb-2_1ubwx_524","pl-2":"_pl-2_1ubwx_528","p-3":"_p-3_1ubwx_532","px-3":"_px-3_1ubwx_536","py-3":"_py-3_1ubwx_540","pt-3":"_pt-3_1ubwx_544","pr-3":"_pr-3_1ubwx_548","pb-3":"_pb-3_1ubwx_552","pl-3":"_pl-3_1ubwx_556","b-0":"_b-0_1ubwx_560","bx-0":"_bx-0_1ubwx_564","by-0":"_by-0_1ubwx_568","bt-0":"_bt-0_1ubwx_572","br-0":"_br-0_1ubwx_576","bb-0":"_bb-0_1ubwx_580","bl-0":"_bl-0_1ubwx_584","b-1":"_b-1_1ubwx_588","bx-1":"_bx-1_1ubwx_592","by-1":"_by-1_1ubwx_596","bt-1":"_bt-1_1ubwx_600","br-1":"_br-1_1ubwx_604","bb-1":"_bb-1_1ubwx_608","bl-1":"_bl-1_1ubwx_612","b-2":"_b-2_1ubwx_616","bx-2":"_bx-2_1ubwx_620","by-2":"_by-2_1ubwx_624","bt-2":"_bt-2_1ubwx_628","br-2":"_br-2_1ubwx_632","bb-2":"_bb-2_1ubwx_636","bl-2":"_bl-2_1ubwx_640","b-3":"_b-3_1ubwx_644","bx-3":"_bx-3_1ubwx_648","by-3":"_by-3_1ubwx_652","bt-3":"_bt-3_1ubwx_656","br-3":"_br-3_1ubwx_660","bb-3":"_bb-3_1ubwx_664","bl-3":"_bl-3_1ubwx_668","m-0":"_m-0_1ubwx_672","mx-0":"_mx-0_1ubwx_676","my-0":"_my-0_1ubwx_680","mt-0":"_mt-0_1ubwx_684","mr-0":"_mr-0_1ubwx_688","mb-0":"_mb-0_1ubwx_692","ml-0":"_ml-0_1ubwx_696","m-1":"_m-1_1ubwx_700","mx-1":"_mx-1_1ubwx_704","my-1":"_my-1_1ubwx_708","mt-1":"_mt-1_1ubwx_712","mr-1":"_mr-1_1ubwx_716","mb-1":"_mb-1_1ubwx_720","ml-1":"_ml-1_1ubwx_724","m-2":"_m-2_1ubwx_728","mx-2":"_mx-2_1ubwx_732","my-2":"_my-2_1ubwx_736","mt-2":"_mt-2_1ubwx_740","mr-2":"_mr-2_1ubwx_744","mb-2":"_mb-2_1ubwx_748","ml-2":"_ml-2_1ubwx_752","m-3":"_m-3_1ubwx_756","mx-3":"_mx-3_1ubwx_760","my-3":"_my-3_1ubwx_764","mt-3":"_mt-3_1ubwx_768","mr-3":"_mr-3_1ubwx_772","mb-3":"_mb-3_1ubwx_776","ml-3":"_ml-3_1ubwx_780","overflow-x-auto":"_overflow-x-auto_1ubwx_784","overflow-x-hidden":"_overflow-x-hidden_1ubwx_789","overflow-x-scroll":"_overflow-x-scroll_1ubwx_793","overflow-y-auto":"_overflow-y-auto_1ubwx_797","overflow-y-hidden":"_overflow-y-hidden_1ubwx_802","overflow-y-scroll":"_overflow-y-scroll_1ubwx_806","overflow-hidden":"_overflow-hidden_1ubwx_810","overflow-auto":"_overflow-auto_1ubwx_814","overflow-scroll":"_overflow-scroll_1ubwx_819","bgc-pirmary":"_bgc-pirmary_1ubwx_823","bgc-success":"_bgc-success_1ubwx_827","bgc-warning":"_bgc-warning_1ubwx_831","bgc-danger":"_bgc-danger_1ubwx_835","bgc-info":"_bgc-info_1ubwx_839","bgc-dark-fill":"_bgc-dark-fill_1ubwx_843","bgc-transparent":"_bgc-transparent_1ubwx_847",clearfix:ee,"float-left":"_float-left_1ubwx_857","float-right":"_float-right_1ubwx_861","text-center":"_text-center_1ubwx_865","text-end":"_text-end_1ubwx_869","text-primary":"_text-primary_1ubwx_873","text-success":"_text-success_1ubwx_877","text-warning":"_text-warning_1ubwx_881","text-danger":"_text-danger_1ubwx_885","text-info":"_text-info_1ubwx_889","text-black":"_text-black_1ubwx_893","text-white":"_text-white_1ubwx_897","login-root":"_login-root_1ubwx_901","login-cvs":"_login-cvs_1ubwx_913","card-box":"_card-box_1ubwx_921","rotate-y-180":"_rotate-y-180_1ubwx_948","rotate-y-0":"_rotate-y-0_1ubwx_952","site-form-item-icon":"_site-form-item-icon_1ubwx_956","login-form-forgot":"_login-form-forgot_1ubwx_960"};function C(r){return _=>{_.preventDefault(),r==null||r(_)}}function _e(){const r=j(O),[_,b]=s.useState(!1),n=s.useCallback(()=>b(w=>!w),[]),d=s.useMemo(()=>c(z,{children:[e(te,{isRegister:_,onLinkClick:n}),e(re,{isRegister:_,onLinkClick:n})]}),[_,n]),l=s.useRef(null),m=P(w=>{const x=l.current;if(!x)return;Object.assign(x,w);let t=null;const a=setTimeout(()=>{t=new q(x,w.width/1920*120),t.animate(),t.bindEvent()},500);return()=>{clearTimeout(a),t==null||t.abortAnimate(),t==null||t.abortEvent()}});return c("div",{ref:m,className:r("login-root"),children:[e("canvas",{ref:l,className:r("login-cvs")}),e("div",{className:r("card-box"),children:d})]})}const he=M.memo(_e);function te(r){const{isRegister:_,onLinkClick:b}=r,n=j(O),[d]=U(),[l]=u.useForm(),{signIn:m}=s.useContext(H),w=async t=>{try{const a=await d(t).unwrap(),{isOk:i,token:o,username:y,invalidTime:v,mes:f}=a;if(i){m({user:y,token:o,expiration:v},t.remember);return}g.warning(f)}catch(a){console.error(a)}},x=C(b);return e(R,{className:n(["card-login",_?"rotate-y-180":""]),children:c(u,{form:l,name:"normal_login",initialValues:{remember:!0},onFinish:w,className:"login-form",children:[e(u.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:e(h,{prefix:e(F,{className:n("site-form-item-icon")}),placeholder:"手机号"})}),e(u.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:e(h,{prefix:e(k,{className:n("site-form-item-icon")}),type:"password",placeholder:"密码"})}),c(u.Item,{children:[e(u.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e(A,{children:"Remember me"})}),e("a",{className:n("login-form-forgot"),href:"xxx",onClick:C(),children:"Forgot password"})]}),c(u.Item,{children:[e(S,{type:"primary",htmlType:"submit",block:!0,children:"Login"}),"Or"," ",e("a",{onClick:x,href:"xxx",children:"register now!"})]})]})})}function re(r){const{isRegister:_,onLinkClick:b}=r,n=j(O),d=C(b),[l]=V(),[m]=u.useForm(),[w,x]=s.useState({validateStatus:void 0,help:void 0}),t=i=>{l(i).unwrap().then(o=>{if(o.isOk){g.success(o.message),b();return}g.warning(o.message)}).catch(o=>console.error(o))},a=(i,o)=>{if(!i.password2)return;const{password:y}=o;x(v=>{const f=i.password2===y;return{...v,validateStatus:f?void 0:"error",help:f?void 0:"两次输入的密码不一致！"}})};return e(R,{className:n(["card-register",_?"rotate-y-0":""]),children:c(u,{form:m,onFinish:t,onValuesChange:a,children:[e(u.Item,{name:"username",rules:[{required:!0}],children:e(h,{prefix:e(F,{className:n("site-form-item-icon")}),placeholder:"手机号"})}),e(u.Item,{name:"password",rules:[{required:!0}],children:e(h,{prefix:e(k,{className:n("site-form-item-icon")}),type:"password",placeholder:"密码"})}),e(u.Item,{name:"password2",rules:[{required:!0}],validateStatus:w.validateStatus,help:w.help,children:e(h,{prefix:e(k,{className:n("site-form-item-icon")}),type:"password",placeholder:"确认密码"})}),c(u.Item,{children:[e(S,{type:"primary",htmlType:"submit",block:!0,children:"Register"}),"Or"," ",e("a",{onClick:d,href:"xxx",children:"login now!"})]})]})})}export{_e as PageLogin,he as default};
