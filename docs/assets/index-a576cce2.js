var p=Object.defineProperty;var j=(e,t,s)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var a=(e,t,s)=>(j(e,typeof t!="symbol"?t+"":t,s),s),v=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var o=(e,t,s)=>(v(e,t,"read from private field"),s?s.call(e):t.get(e)),r=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},g=(e,t,s,i)=>(v(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);import{j as m}from"./index-f0e7dd37.js";import{r as w,S,L as R}from"./antd-63f1a089.js";import{u as k}from"./useResize-9ddaf608.js";import{u as _}from"./useStyle-128032ca.js";class d{constructor(t,s){this.min=t,this.max=s}get(){return Math.random()*(this.max-this.min)+this.min}}const C=new d(-.5,.5),B=new d(1,3),M=new d(1,4);var l,f;class A{constructor(t){r(this,l);a(this,"x",0);a(this,"y",0);a(this,"xv",0);a(this,"yv",2);a(this,"r",0);a(this,"color","");this.canvas=t,this.reset()}reset(){this.x=Math.random()*this.canvas.width,this.y=0,this.xv=C.get(),this.yv=B.get(),this.r=M.get(),this.color=`rgba(255,255,255,${.5+this.r/4})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.fill()}update(){o(this,l,f)||this.reset(),this.x+=this.xv,this.y+=this.yv,this.draw()}}l=new WeakSet,f=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var n,c;class E{constructor(t,s=100){r(this,n,[]);r(this,c,0);this.canvas=t,this.number=s}animate(){g(this,c,requestAnimationFrame(this.animate.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:i}=this.canvas;t.clearRect(0,0,s,i),o(this,n).length<this.number&&o(this,n).push(new A(this.canvas)),o(this,n).forEach(u=>u.update())}abortAnimate(){cancelAnimationFrame(o(this,c)),g(this,n,[])}}n=new WeakMap,c=new WeakMap;const I="_ctx_atyyk_1",P="_box_atyyk_6",z={ctx:I,box:P},F="/vite-react/assets/snow-0970bb49.jpg",L="/vite-react/assets/snow-village-4117bc33.jpg";function q(){const e=_(z),t=w.useRef(null),s=k(h=>{const x=t.current;if(!x)return;Object.assign(x,h);const b=setTimeout(()=>{new E(x,h.width/1920*200).animate()},500);return()=>{clearTimeout(b)}}),[i,u]=w.useState(!1),y=w.useMemo(()=>m.jsx(S,{onChange:()=>u(h=>!h),checked:i}),[i]);return m.jsxs(R,{ref:s,className:e("h-100 box"),style:{backgroundImage:`url(${i?F:L})`},children:[m.jsx("canvas",{ref:t,className:e("ctx")}),m.jsx("div",{children:y})]})}export{q as Component};
