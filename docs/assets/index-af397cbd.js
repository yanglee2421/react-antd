import{r as a,p as G,o as W,q as H,O as re,v as N,d as w,ay as oe,af as ne,ac as ae}from"./index-a3b6d2d0.js";import{R as se}from"./button-eb3dc422.js";import{u as le}from"./useBreakpoint-7099e420.js";import{r as ie,g as ce,P as pe,a as de,T as ge}from"./index-6009b6f5.js";import{c as ue}from"./index-e6561747.js";const R=a.createContext("default"),_=e=>{let{children:r,size:o}=e;const t=a.useContext(R);return a.createElement(R.Provider,{value:o||t},r)},me=e=>{const{antCls:r,componentCls:o,iconCls:t,avatarBg:n,avatarColor:s,avatarSizeBase:i,avatarSizeLG:c,avatarSizeSM:p,avatarFontSizeBase:d,avatarFontSizeLG:l,avatarFontSizeSM:u,borderRadius:g,borderRadiusLG:h,borderRadiusSM:$,lineWidth:C,lineType:b}=e,S=(m,O,P)=>({width:m,height:m,lineHeight:`${m-C*2}px`,borderRadius:"50%",[`&${o}-square`]:{borderRadius:P},[`${o}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${o}-icon`]:{fontSize:O,[`> ${t}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},H(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:s,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:n,border:`${C}px ${b} transparent`,["&-image"]:{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),S(i,d,g)),{["&-lg"]:Object.assign({},S(c,l,h)),["&-sm"]:Object.assign({},S(p,u,$)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},fe=e=>{const{componentCls:r,avatarGroupBorderColor:o,avatarGroupSpace:t}=e;return{[`${r}-group`]:{display:"inline-flex",[`${r}`]:{borderColor:o},["> *:not(:first-child)"]:{marginInlineStart:t}}}},L=G("Avatar",e=>{const{colorTextLightSolid:r,controlHeight:o,controlHeightLG:t,controlHeightSM:n,fontSize:s,fontSizeLG:i,fontSizeXL:c,fontSizeHeading3:p,marginXS:d,colorBorderBg:l,colorTextPlaceholder:u}=e,g=W(e,{avatarBg:u,avatarColor:r,avatarSizeBase:o,avatarSizeLG:t,avatarSizeSM:n,avatarFontSizeBase:Math.round((i+c)/2),avatarFontSizeLG:p,avatarFontSizeSM:s,avatarGroupSpace:-d,avatarGroupBorderColor:l});return[me(g),fe(g)]});var ve=globalThis&&globalThis.__rest||function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const he=(e,r)=>{const o=a.useContext(R),[t,n]=a.useState(1),[s,i]=a.useState(!1),[c,p]=a.useState(!0),d=a.useRef(null),l=a.useRef(null),u=re(r,d),{getPrefixCls:g}=a.useContext(N),h=()=>{if(!l.current||!d.current)return;const v=l.current.offsetWidth,y=d.current.offsetWidth;if(v!==0&&y!==0){const{gap:z=4}=e;z*2<y&&n(y-z*2<v?(y-z*2)/v:1)}};a.useEffect(()=>{i(!0)},[]),a.useEffect(()=>{p(!0),n(1)},[e.src]),a.useEffect(()=>{h()},[e.gap]);const $=()=>{const{onError:v}=e;(v?v():void 0)!==!1&&p(!1)},{prefixCls:C,shape:b="circle",size:S="default",src:m,srcSet:O,icon:P,className:X,alt:q,draggable:U,children:k,crossOrigin:Y}=e,j=ve(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),f=S==="default"?o:S,Z=Object.keys(typeof f=="object"?f||{}:{}).some(v=>["xs","sm","md","lg","xl","xxl"].includes(v)),T=le(Z),J=a.useMemo(()=>{if(typeof f!="object")return{};const v=ie.find(z=>T[z]),y=f[v];return y?{width:y,height:y,lineHeight:`${y}px`,fontSize:P?y/2:18}:{}},[T,f]),x=g("avatar",C),[Q,K]=L(x),V=w({[`${x}-lg`]:f==="large",[`${x}-sm`]:f==="small"}),I=a.isValidElement(m),ee=w(x,V,{[`${x}-${b}`]:!!b,[`${x}-image`]:I||m&&c,[`${x}-icon`]:!!P},X,K),te=typeof f=="number"?{width:f,height:f,lineHeight:`${f}px`,fontSize:P?f/2:18}:{};let E;if(typeof m=="string"&&c)E=a.createElement("img",{src:m,draggable:U,srcSet:O,onError:$,alt:q,crossOrigin:Y});else if(I)E=m;else if(P)E=P;else if(s||t!==1){const v=`scale(${t}) translateX(-50%)`,y={msTransform:v,WebkitTransform:v,transform:v},z=typeof f=="number"?{lineHeight:`${f}px`}:{};E=a.createElement(se,{onResize:h},a.createElement("span",{className:`${x}-string`,ref:l,style:Object.assign(Object.assign({},z),y)},k))}else E=a.createElement("span",{className:`${x}-string`,style:{opacity:0},ref:l},k);return delete j.onError,delete j.gap,Q(a.createElement("span",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign({},te),J),j.style),className:ee,ref:u}),E))},ye=a.forwardRef(he),A=ye,B=e=>e?typeof e=="function"?e():e:null,Se=e=>{const{componentCls:r,popoverBg:o,popoverColor:t,width:n,fontWeightStrong:s,popoverPadding:i,boxShadowSecondary:c,colorTextHeading:p,borderRadiusLG:d,zIndexPopup:l,marginXS:u,colorBgElevated:g}=e;return[{[r]:Object.assign(Object.assign({},H(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:l,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":g,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${r}-content`]:{position:"relative"},[`${r}-inner`]:{backgroundColor:o,backgroundClip:"padding-box",borderRadius:d,boxShadow:c,padding:i},[`${r}-title`]:{minWidth:n,marginBottom:u,color:p,fontWeight:s},[`${r}-inner-content`]:{color:t}})},ce(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${r}-pure`]:{position:"relative",maxWidth:"none",[`${r}-content`]:{display:"inline-block"}}}]},be=e=>{const{componentCls:r}=e;return{[r]:pe.map(o=>{const t=e[`${o}-6`];return{[`&${r}-${o}`]:{"--antd-arrow-background-color":t,[`${r}-inner`]:{backgroundColor:t},[`${r}-arrow`]:{background:"transparent"}}}})}},xe=e=>{const{componentCls:r,lineWidth:o,lineType:t,colorSplit:n,paddingSM:s,controlHeight:i,fontSize:c,lineHeight:p,padding:d}=e,l=i-Math.round(c*p),u=l/2,g=l/2-o,h=d;return{[r]:{[`${r}-inner`]:{padding:0},[`${r}-title`]:{margin:0,padding:`${u}px ${h}px ${g}px`,borderBottom:`${o}px ${t} ${n}`},[`${r}-inner-content`]:{padding:`${s}px ${h}px`}}}},M=G("Popover",e=>{const{colorBgElevated:r,colorText:o,wireframe:t}=e,n=W(e,{popoverBg:r,popoverColor:o,popoverPadding:12});return[Se(n),be(n),t&&xe(n),oe(n,"zoom-big")]},e=>{let{zIndexPopupBase:r}=e;return{zIndexPopup:r+30,width:177}});var Ce=globalThis&&globalThis.__rest||function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const $e=(e,r,o)=>{if(!(!r&&!o))return a.createElement(a.Fragment,null,r&&a.createElement("div",{className:`${e}-title`},B(r)),a.createElement("div",{className:`${e}-inner-content`},B(o)))};function Oe(e){const{hashId:r,prefixCls:o,className:t,style:n,placement:s="top",title:i,content:c,children:p}=e;return a.createElement("div",{className:w(r,o,`${o}-pure`,`${o}-placement-${s}`,t),style:n},a.createElement(de,Object.assign({},e,{className:r,prefixCls:o}),p||$e(o,i,c)))}function Pe(e){const{prefixCls:r}=e,o=Ce(e,["prefixCls"]),{getPrefixCls:t}=a.useContext(N),n=t("popover",r),[s,i]=M(n);return s(a.createElement(Oe,Object.assign({},o,{prefixCls:n,hashId:i})))}var ze=globalThis&&globalThis.__rest||function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Ee=e=>{let{title:r,content:o,prefixCls:t}=e;return!r&&!o?null:a.createElement(a.Fragment,null,r&&a.createElement("div",{className:`${t}-title`},B(r)),a.createElement("div",{className:`${t}-inner-content`},B(o)))},F=a.forwardRef((e,r)=>{const{prefixCls:o,title:t,content:n,overlayClassName:s,placement:i="top",trigger:c="hover",mouseEnterDelay:p=.1,mouseLeaveDelay:d=.1,overlayStyle:l={}}=e,u=ze(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:g}=a.useContext(N),h=g("popover",o),[$,C]=M(h),b=g(),S=w(s,C);return $(a.createElement(ge,Object.assign({placement:i,trigger:c,mouseEnterDelay:p,mouseLeaveDelay:d,overlayStyle:l},u,{prefixCls:h,overlayClassName:S,ref:r,overlay:a.createElement(Ee,{prefixCls:h,title:t,content:n}),transitionName:ne(b,"zoom-big",u.transitionName),"data-popover-inject":!0})))});F._InternalPanelDoNotUseOrYouWillBeFired=Pe;const we=F,je=e=>{const{getPrefixCls:r,direction:o}=a.useContext(N),{prefixCls:t,className:n="",maxCount:s,maxStyle:i,size:c}=e,p=r("avatar",t),d=`${p}-group`,[l,u]=L(p),g=w(d,{[`${d}-rtl`]:o==="rtl"},n,u),{children:h,maxPopoverPlacement:$="top",maxPopoverTrigger:C="hover"}=e,b=ae(h).map((m,O)=>ue(m,{key:`avatar-key-${O}`})),S=b.length;if(s&&s<S){const m=b.slice(0,s),O=b.slice(s,S);return m.push(a.createElement(we,{key:"avatar-popover-key",content:O,trigger:C,placement:$,overlayClassName:`${d}-popover`},a.createElement(A,{style:i},`+${S-s}`))),l(a.createElement(_,{size:c},a.createElement("div",{className:g,style:e.style},m)))}return l(a.createElement(_,{size:c},a.createElement("div",{className:g,style:e.style},b)))},Be=je,D=A;D.Group=Be;const _e=D;export{_e as A};
