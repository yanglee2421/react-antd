import{b as Ve,r as g}from"./jsx-runtime-d4f0a224.js";import{c as Qe,m as Ye,a as sr,b as We,s as cr,u as ur,d as dr}from"./api-rtkq-d736cb74.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}var T;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(T||(T={}));const dt="popstate";function On(e){e===void 0&&(e={});function t(a,o){let{pathname:i="/",search:u="",hash:d=""}=K(a.location.hash.substr(1));return we("",{pathname:i,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){let i=a.document.querySelector("base"),u="";if(i&&i.getAttribute("href")){let d=a.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof o=="string"?o:te(o))}function n(a,o){Ot(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return hr(t,r,n,e)}function S(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ot(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fr(){return Math.random().toString(36).substr(2,8)}function ft(e,t){return{usr:e.state,key:e.key,idx:t}}function we(e,t,r,n){return r===void 0&&(r=null),U({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?K(t):t,{state:r,key:t&&t.key||n||fr()})}function te(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function K(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,u=T.Pop,d=null,h=p();h==null&&(h=0,i.replaceState(U({},i.state,{idx:h}),""));function p(){return(i.state||{idx:null}).idx}function y(){let E=T.Pop,A=p();if(A!=null){let O=A-h;u=E,h=A,d&&d({action:u,location:D.location,delta:O})}else Ot(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function l(E,A){u=T.Push;let O=we(D.location,E,A);r&&r(O,E),h=p()+1;let F=ft(O,h),L=D.createHref(O);try{i.pushState(F,"",L)}catch{a.location.assign(L)}o&&d&&d({action:u,location:D.location,delta:1})}function x(E,A){u=T.Replace;let O=we(D.location,E,A);r&&r(O,E),h=p();let F=ft(O,h),L=D.createHref(O);i.replaceState(F,"",L),o&&d&&d({action:u,location:D.location,delta:0})}function C(E){let A=a.location.origin!=="null"?a.location.origin:a.location.href,O=typeof E=="string"?E:te(E);return S(A,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,A)}let D={get action(){return u},get location(){return e(a,i)},listen(E){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(dt,y),d=E,()=>{a.removeEventListener(dt,y),d=null}},createHref(E){return t(a,E)},createURL:C,encodeLocation(E){let A=C(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:l,replace:x,go(E){return i.go(E)}};return D}var k;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k||(k={}));function pr(e){return e.index===!0}function Ut(e,t,r){return t===void 0&&(t=[]),r===void 0&&(r=new Set),e.map((n,a)=>{let o=[...t,a],i=typeof n.id=="string"?n.id:o.join("-");return S(n.index!==!0||!n.children,"Cannot specify children on an index route"),S(!r.has(i),'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),r.add(i),pr(n)?U({},n,{id:i}):U({},n,{id:i,children:n.children?Ut(n.children,o,r):void 0})})}function ye(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?K(t):t,a=Tt(n.pathname||"/",r);if(a==null)return null;let o=It(e);mr(o);let i=null;for(let u=0;i==null&&u<o.length;++u)i=Dr(o[u],Mr(a));return i}function It(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(S(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=V([n,d.relativePath]),p=r.concat(d);o.children&&o.children.length>0&&(S(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),It(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:Rr(h,o.index),routesMeta:p})};return e.forEach((o,i)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,i);else for(let d of Ft(o.path))a(o,i,d)}),t}function Ft(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=Ft(n.join("/")),u=[];return u.push(...i.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...i),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function mr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gr=/^:\w+$/,vr=3,yr=2,br=1,wr=10,Er=-2,ht=e=>e==="*";function Rr(e,t){let r=e.split("/"),n=r.length;return r.some(ht)&&(n+=Er),t&&(n+=yr),r.filter(a=>!ht(a)).reduce((a,o)=>a+(gr.test(o)?vr:o===""?br:wr),n)}function Sr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Dr(e,t){let{routesMeta:r}=e,n={},a="/",o=[];for(let i=0;i<r.length;++i){let u=r[i],d=i===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=xr({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h);if(!p)return null;Object.assign(n,p.params);let y=u.route;o.push({params:n,pathname:V([a,p.pathname]),pathnameBase:Or(V([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=V([a,p.pathnameBase]))}return o}function xr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Pr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,p,y)=>{if(p==="*"){let l=u[y]||"";i=o.slice(0,o.length-l.length).replace(/(.)\/+$/,"$1")}return h[p]=Cr(u[y]||"",p),h},{}),pathname:o,pathnameBase:i,pattern:e}}function Pr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ue(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,u)=>(n.push(u),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Mr(e){try{return decodeURI(e)}catch(t){return Ue(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cr(e,t){try{return decodeURIComponent(e)}catch(r){return Ue(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Tt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ue(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lr(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?K(e):e;return{pathname:r?r.startsWith("/")?r:Ar(r,t):t,search:Ur(n),hash:Ir(a)}}function Ar(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ze(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ze(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=K(e):(a=U({},e),S(!a.pathname||!a.pathname.includes("?"),ze("?","pathname","search",a)),S(!a.pathname||!a.pathname.includes("#"),ze("#","pathname","hash",a)),S(!a.search||!a.search.includes("#"),ze("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,u;if(n||i==null)u=r;else{let y=t.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),y-=1;a.pathname=l.join("/")}u=y>=0?t[y]:"/"}let d=Lr(a,u),h=i&&i!=="/"&&i.endsWith("/"),p=(o||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const V=e=>e.join("/").replace(/\/\/+/g,"/"),Or=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ur=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ir=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class pt extends Error{}class Fr{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],S(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((o,i)=>n=i),this.controller=new AbortController;let a=()=>n(new pt("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((o,i)=>{let[u,d]=i;return Object.assign(o,{[u]:this.trackPromise(u,d)})},{}),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(n,t,null,a),a=>this.onSettle(n,t,a));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,a){return this.controller.signal.aborted&&n instanceof pt?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>a}),this.emit(!1,r),a))}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(a=>{this.subscribe(o=>{t.removeEventListener("abort",n),(o||this.done)&&a(o)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return S(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,a]=r;return Object.assign(t,{[n]:jr(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Tr(e){return e instanceof Promise&&e._tracked===!0}function jr(e){if(!Tr(e))return e;if(e._error)throw e._error;return e._data}class et{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function jt(e){return e instanceof et}const kt=["post","put","patch","delete"],kr=new Set(kt),Nr=["get",...kt],_r=new Set(Nr),Br=new Set([301,302,303,307,308]),$r=new Set([307,308]),Ge={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Hr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},mt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kr=!Nt;function Un(e){S(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=Ut(e.routes),r=null,n=new Set,a=null,o=null,i=null,u=e.hydrationData!=null,d=ye(t,e.history.location,e.basename),h=null;if(d==null){let s=J(404,{pathname:e.history.location.pathname}),{matches:c,route:f}=Et(t);d=c,h={[f.id]:s}}let p=!d.some(s=>s.route.loader)||e.hydrationData!=null,y,l={historyAction:e.history.action,location:e.history.location,matches:d,initialized:p,navigation:Ge,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||h,fetchers:new Map,blockers:new Map},x=T.Pop,C=!1,D,E=!1,A=!1,O=[],F=[],L=new Map,W=0,ke=-1,se=new Map,Re=new Set,ne=new Map,q=new Map,z=null,ce=new Map,Ne=!1;function Gt(){return r=e.history.listen(s=>{let{action:c,location:f,delta:v}=s;if(Ne){Ne=!1;return}let m=st({currentLocation:l.location,nextLocation:f,historyAction:c});if(m){Ne=!0,e.history.go(v*-1),De(m,{state:"blocked",location:f,proceed(){De(m,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),e.history.go(v)},reset(){fe(m),N({blockers:new Map(y.state.blockers)})}});return}return X(c,f)}),l.initialized||X(T.Pop,l.location),y}function Jt(){r&&r(),n.clear(),D&&D.abort(),l.fetchers.forEach((s,c)=>$e(c)),l.blockers.forEach((s,c)=>fe(c))}function Vt(s){return n.add(s),()=>n.delete(s)}function N(s){l=U({},l,s),n.forEach(c=>c(l))}function ue(s,c){var f,v;let m=l.actionData!=null&&l.navigation.formMethod!=null&&Y(l.navigation.formMethod)&&l.navigation.state==="loading"&&((f=s.state)==null?void 0:f._isRedirect)!==!0,R;c.actionData?Object.keys(c.actionData).length>0?R=c.actionData:R=null:m?R=l.actionData:R=null;let w=c.loaderData?wt(l.loaderData,c.loaderData,c.matches||[],c.errors):l.loaderData;for(let[b]of ce)fe(b);let M=C===!0||l.navigation.formMethod!=null&&Y(l.navigation.formMethod)&&((v=s.state)==null?void 0:v._isRedirect)!==!0;N(U({},c,{actionData:R,loaderData:w,historyAction:x,location:s,initialized:!0,navigation:Ge,revalidation:"idle",restoreScrollPosition:ct(s,c.matches||l.matches),preventScrollReset:M,blockers:new Map(l.blockers)})),E||x===T.Pop||(x===T.Push?e.history.push(s,s.state):x===T.Replace&&e.history.replace(s,s.state)),x=T.Pop,C=!1,E=!1,A=!1,O=[],F=[]}async function nt(s,c){if(typeof s=="number"){e.history.go(s);return}let{path:f,submission:v,error:m}=gt(s,c),R=l.location,w=we(l.location,f,c&&c.state);w=U({},w,e.history.encodeLocation(w));let M=c&&c.replace!=null?c.replace:void 0,b=T.Push;M===!0?b=T.Replace:M===!1||v!=null&&Y(v.formMethod)&&v.formAction===l.location.pathname+l.location.search&&(b=T.Replace);let j=c&&"preventScrollReset"in c?c.preventScrollReset===!0:void 0,P=st({currentLocation:R,nextLocation:w,historyAction:b});if(P){De(P,{state:"blocked",location:w,proceed(){De(P,{state:"proceeding",proceed:void 0,reset:void 0,location:w}),nt(s,c)},reset(){fe(P),N({blockers:new Map(l.blockers)})}});return}return await X(b,w,{submission:v,pendingError:m,preventScrollReset:j,replace:c&&c.replace})}function Yt(){if(_e(),N({revalidation:"loading"}),l.navigation.state!=="submitting"){if(l.navigation.state==="idle"){X(l.historyAction,l.location,{startUninterruptedRevalidation:!0});return}X(x||l.historyAction,l.navigation.location,{overrideNavigation:l.navigation})}}async function X(s,c,f){D&&D.abort(),D=null,x=s,E=(f&&f.startUninterruptedRevalidation)===!0,ar(l.location,l.matches),C=(f&&f.preventScrollReset)===!0;let v=f&&f.overrideNavigation,m=ye(t,c,e.basename);if(!m){let I=J(404,{pathname:c.pathname}),{matches:$,route:H}=Et(t);He(),ue(c,{matches:$,loaderData:{},errors:{[H.id]:I}});return}if(Vr(l.location,c)){ue(c,{matches:m});return}D=new AbortController;let R=ve(e.history,c,D.signal,f&&f.submission),w,M;if(f&&f.pendingError)M={[oe(m).route.id]:f.pendingError};else if(f&&f.submission&&Y(f.submission.formMethod)){let I=await qt(R,c,f.submission,m,{replace:f.replace});if(I.shortCircuited)return;w=I.pendingActionData,M=I.pendingActionError,v=U({state:"loading",location:c},f.submission),R=new Request(R.url,{signal:R.signal})}let{shortCircuited:b,loaderData:j,errors:P}=await Xt(R,c,m,v,f&&f.submission,f&&f.replace,w,M);b||(D=null,ue(c,U({matches:m},w?{actionData:w}:{},{loaderData:j,errors:P})))}async function qt(s,c,f,v,m){_e();let R=U({state:"submitting",location:c},f);N({navigation:R});let w,M=xt(v,c);if(!M.route.action)w={type:k.error,error:J(405,{method:s.method,pathname:c.pathname,routeId:M.route.id})};else if(w=await ge("action",s,M,v,y.basename),s.signal.aborted)return{shortCircuited:!0};if(ie(w)){let b;return m&&m.replace!=null?b=m.replace:b=w.location===l.location.pathname+l.location.search,await de(l,w,{submission:f,replace:b}),{shortCircuited:!0}}if(be(w)){let b=oe(v,M.route.id);return(m&&m.replace)!==!0&&(x=T.Push),{pendingActionData:{},pendingActionError:{[b.route.id]:w.error}}}if(ee(w))throw J(400,{type:"defer-action"});return{pendingActionData:{[M.route.id]:w.data}}}async function Xt(s,c,f,v,m,R,w,M){let b=v;b||(b=U({state:"loading",location:c,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},m));let j=m||(b.formMethod&&b.formAction&&b.formData&&b.formEncType?{formMethod:b.formMethod,formAction:b.formAction,formData:b.formData,formEncType:b.formEncType}:void 0),[P,I]=vt(e.history,l,f,j,c,A,O,F,w,M,ne);if(He(_=>!(f&&f.some(B=>B.route.id===_))||P&&P.some(B=>B.route.id===_)),P.length===0&&I.length===0)return ue(c,U({matches:f,loaderData:{},errors:M||null},w?{actionData:w}:{})),{shortCircuited:!0};if(!E){I.forEach(B=>{let[Q]=B,pe=l.fetchers.get(Q),me={state:"loading",data:pe&&pe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(Q,me)});let _=w||l.actionData;N(U({navigation:b},_?Object.keys(_).length===0?{actionData:null}:{actionData:_}:{},I.length>0?{fetchers:new Map(l.fetchers)}:{}))}ke=++W,I.forEach(_=>{let[B]=_;return L.set(B,D)});let{results:$,loaderResults:H,fetcherResults:he}=await ot(l.matches,f,P,I,s);if(s.signal.aborted)return{shortCircuited:!0};I.forEach(_=>{let[B]=_;return L.delete(B)});let xe=Rt($);if(xe)return await de(l,xe,{replace:R}),{shortCircuited:!0};let{loaderData:Pe,errors:ae}=bt(l,f,P,H,M,I,he,q);q.forEach((_,B)=>{_.subscribe(Q=>{(Q||_.done)&&q.delete(B)})}),tr();let Ke=lt(ke);return U({loaderData:Pe,errors:ae},Ke||I.length>0?{fetchers:new Map(l.fetchers)}:{})}function at(s){return l.fetchers.get(s)||Hr}function Qt(s,c,f,v){if(Kr)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(s)&&Se(s);let m=ye(t,f,e.basename);if(!m){Be(s,c,J(404,{pathname:f}));return}let{path:R,submission:w}=gt(f,v,!0),M=xt(m,R);if(w&&Y(w.formMethod)){Zt(s,c,R,M,m,w);return}ne.set(s,[R,M,m]),er(s,c,R,M,m,w)}async function Zt(s,c,f,v,m,R){if(_e(),ne.delete(s),!v.route.action){let G=J(405,{method:R.formMethod,pathname:f,routeId:c});Be(s,c,G);return}let w=l.fetchers.get(s),M=U({state:"submitting"},R,{data:w&&w.data," _hasFetcherDoneAnything ":!0});l.fetchers.set(s,M),N({fetchers:new Map(l.fetchers)});let b=new AbortController,j=ve(e.history,f,b.signal,R);L.set(s,b);let P=await ge("action",j,v,m,y.basename);if(j.signal.aborted){L.get(s)===b&&L.delete(s);return}if(ie(P)){L.delete(s),Re.add(s);let G=U({state:"loading"},R,{data:void 0," _hasFetcherDoneAnything ":!0});return l.fetchers.set(s,G),N({fetchers:new Map(l.fetchers)}),de(l,P,{isFetchActionRedirect:!0})}if(be(P)){Be(s,c,P.error);return}if(ee(P))throw J(400,{type:"defer-action"});let I=l.navigation.location||l.location,$=ve(e.history,I,b.signal),H=l.navigation.state!=="idle"?ye(t,l.navigation.location,e.basename):l.matches;S(H,"Didn't find any matches after fetcher action");let he=++W;se.set(s,he);let xe=U({state:"loading",data:P.data},R,{" _hasFetcherDoneAnything ":!0});l.fetchers.set(s,xe);let[Pe,ae]=vt(e.history,l,H,R,I,A,O,F,{[v.route.id]:P.data},void 0,ne);ae.filter(G=>{let[Z]=G;return Z!==s}).forEach(G=>{let[Z]=G,ut=l.fetchers.get(Z),lr={state:"loading",data:ut&&ut.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(Z,lr),L.set(Z,b)}),N({fetchers:new Map(l.fetchers)});let{results:Ke,loaderResults:_,fetcherResults:B}=await ot(l.matches,H,Pe,ae,$);if(b.signal.aborted)return;se.delete(s),L.delete(s),ae.forEach(G=>{let[Z]=G;return L.delete(Z)});let Q=Rt(Ke);if(Q)return de(l,Q);let{loaderData:pe,errors:me}=bt(l,l.matches,Pe,_,void 0,ae,B,q),or={state:"idle",data:P.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(s,or);let ir=lt(he);l.navigation.state==="loading"&&he>ke?(S(x,"Expected pending action"),D&&D.abort(),ue(l.navigation.location,{matches:H,loaderData:pe,errors:me,fetchers:new Map(l.fetchers)})):(N(U({errors:me,loaderData:wt(l.loaderData,pe,H,me)},ir?{fetchers:new Map(l.fetchers)}:{})),A=!1)}async function er(s,c,f,v,m,R){let w=l.fetchers.get(s),M=U({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},R,{data:w&&w.data," _hasFetcherDoneAnything ":!0});l.fetchers.set(s,M),N({fetchers:new Map(l.fetchers)});let b=new AbortController,j=ve(e.history,f,b.signal);L.set(s,b);let P=await ge("loader",j,v,m,y.basename);if(ee(P)&&(P=await Ht(P,j.signal,!0)||P),L.get(s)===b&&L.delete(s),j.signal.aborted)return;if(ie(P)){await de(l,P);return}if(be(P)){let $=oe(l.matches,c);l.fetchers.delete(s),N({fetchers:new Map(l.fetchers),errors:{[$.route.id]:P.error}});return}S(!ee(P),"Unhandled fetcher deferred data");let I={state:"idle",data:P.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(s,I),N({fetchers:new Map(l.fetchers)})}async function de(s,c,f){var v;let{submission:m,replace:R,isFetchActionRedirect:w}=f===void 0?{}:f;c.revalidate&&(A=!0);let M=we(s.location,c.location,U({_isRedirect:!0},w?{_isFetchActionRedirect:!0}:{}));if(S(M,"Expected a location on the redirect navigation"),Nt&&typeof((v=window)==null?void 0:v.location)<"u"){let H=e.history.createURL(c.location).origin;if(window.location.origin!==H){R?window.location.replace(c.location):window.location.assign(c.location);return}}D=null;let b=R===!0?T.Replace:T.Push,{formMethod:j,formAction:P,formEncType:I,formData:$}=s.navigation;!m&&j&&P&&$&&I&&(m={formMethod:j,formAction:P,formEncType:I,formData:$}),$r.has(c.status)&&m&&Y(m.formMethod)?await X(b,M,{submission:U({},m,{formAction:c.location}),preventScrollReset:C}):await X(b,M,{overrideNavigation:{state:"loading",location:M,formMethod:m?m.formMethod:void 0,formAction:m?m.formAction:void 0,formEncType:m?m.formEncType:void 0,formData:m?m.formData:void 0},preventScrollReset:C})}async function ot(s,c,f,v,m){let R=await Promise.all([...f.map(b=>ge("loader",m,b,c,y.basename)),...v.map(b=>{let[,j,P,I]=b;return ge("loader",ve(e.history,j,m.signal),P,I,y.basename)})]),w=R.slice(0,f.length),M=R.slice(f.length);return await Promise.all([St(s,f,w,m.signal,!1,l.loaderData),St(s,v.map(b=>{let[,,j]=b;return j}),M,m.signal,!0)]),{results:R,loaderResults:w,fetcherResults:M}}function _e(){A=!0,O.push(...He()),ne.forEach((s,c)=>{L.has(c)&&(F.push(c),Se(c))})}function Be(s,c,f){let v=oe(l.matches,c);$e(s),N({errors:{[v.route.id]:f},fetchers:new Map(l.fetchers)})}function $e(s){L.has(s)&&Se(s),ne.delete(s),se.delete(s),Re.delete(s),l.fetchers.delete(s)}function Se(s){let c=L.get(s);S(c,"Expected fetch controller: "+s),c.abort(),L.delete(s)}function it(s){for(let c of s){let v={state:"idle",data:at(c).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(c,v)}}function tr(){let s=[];for(let c of Re){let f=l.fetchers.get(c);S(f,"Expected fetcher: "+c),f.state==="loading"&&(Re.delete(c),s.push(c))}it(s)}function lt(s){let c=[];for(let[f,v]of se)if(v<s){let m=l.fetchers.get(f);S(m,"Expected fetcher: "+f),m.state==="loading"&&(Se(f),se.delete(f),c.push(f))}return it(c),c.length>0}function rr(s,c){let f=l.blockers.get(s)||mt;return ce.get(s)!==c&&(ce.set(s,c),z==null?z=s:s!==z&&Ue(!1,"A router only supports one blocker at a time")),f}function fe(s){l.blockers.delete(s),ce.delete(s),z===s&&(z=null)}function De(s,c){let f=l.blockers.get(s)||mt;S(f.state==="unblocked"&&c.state==="blocked"||f.state==="blocked"&&c.state==="blocked"||f.state==="blocked"&&c.state==="proceeding"||f.state==="blocked"&&c.state==="unblocked"||f.state==="proceeding"&&c.state==="unblocked","Invalid blocker state transition: "+f.state+" -> "+c.state),l.blockers.set(s,c),N({blockers:new Map(l.blockers)})}function st(s){let{currentLocation:c,nextLocation:f,historyAction:v}=s;if(z==null)return;let m=ce.get(z);S(m,"Could not find a function for the active blocker");let R=l.blockers.get(z);if(!(R&&R.state==="proceeding")&&m({currentLocation:c,nextLocation:f,historyAction:v}))return z}function He(s){let c=[];return q.forEach((f,v)=>{(!s||s(v))&&(f.cancel(),c.push(v),q.delete(v))}),c}function nr(s,c,f){if(a=s,i=c,o=f||(v=>v.key),!u&&l.navigation===Ge){u=!0;let v=ct(l.location,l.matches);v!=null&&N({restoreScrollPosition:v})}return()=>{a=null,i=null,o=null}}function ar(s,c){if(a&&o&&i){let f=c.map(m=>Dt(m,l.loaderData)),v=o(s,f)||s.key;a[v]=i()}}function ct(s,c){if(a&&o&&i){let f=c.map(R=>Dt(R,l.loaderData)),v=o(s,f)||s.key,m=a[v];if(typeof m=="number")return m}return null}return y={get basename(){return e.basename},get state(){return l},get routes(){return t},initialize:Gt,subscribe:Vt,enableScrollRestoration:nr,navigate:nt,fetch:Qt,revalidate:Yt,createHref:s=>e.history.createHref(s),encodeLocation:s=>e.history.encodeLocation(s),getFetcher:at,deleteFetcher:$e,dispose:Jt,getBlocker:rr,deleteBlocker:fe,_internalFetchControllers:L,_internalActiveDeferreds:q},y}function Wr(e){return e!=null&&"formData"in e}function gt(e,t,r){r===void 0&&(r=!1);let n=typeof e=="string"?e:te(e);if(!t||!Wr(t))return{path:n};if(t.formMethod&&!qr(t.formMethod))return{path:n,error:J(405,{method:t.formMethod})};let a;if(t.formData&&(a={formMethod:t.formMethod||"get",formAction:$t(n),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},Y(a.formMethod)))return{path:n,submission:a};let o=K(n);try{let i=Bt(t.formData);r&&o.search&&Kt(o.search)&&i.append("index",""),o.search="?"+i}catch{return{path:n,error:J(400)}}return{path:te(o),submission:a}}function zr(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function vt(e,t,r,n,a,o,i,u,d,h,p){let y=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,l=h?Object.keys(h)[0]:void 0,C=zr(r,l).filter((E,A)=>E.route.loader!=null&&(Gr(t.loaderData,t.matches[A],E)||i.some(O=>O===E.route.id)||yt(e,t.location,t.matches[A],n,a,E,o,y))),D=[];return p&&p.forEach((E,A)=>{let[O,F,L]=E;u.includes(A)?D.push([A,O,F,L]):o&&yt(e,O,F,n,O,F,o,y)&&D.push([A,O,F,L])}),[C,D]}function Gr(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function _t(e,t){let r=e.route.path;return e.pathname!==t.pathname||r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function yt(e,t,r,n,a,o,i,u){let d=e.createURL(t),h=r.params,p=e.createURL(a),y=o.params,l=_t(r,o)||d.toString()===p.toString()||d.search!==p.search||i;if(o.route.shouldRevalidate){let x=o.route.shouldRevalidate(U({currentUrl:d,currentParams:h,nextUrl:p,nextParams:y},n,{actionResult:u,defaultShouldRevalidate:l}));if(typeof x=="boolean")return x}return l}async function ge(e,t,r,n,a,o,i,u){a===void 0&&(a="/"),o===void 0&&(o=!1),i===void 0&&(i=!1);let d,h,p,y=new Promise((x,C)=>p=C),l=()=>p();t.signal.addEventListener("abort",l);try{let x=r.route[e];S(x,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),h=await Promise.race([x({request:t,params:r.params,context:u}),y]),S(h!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(x){d=k.error,h=x}finally{t.signal.removeEventListener("abort",l)}if(Yr(h)){let x=h.status;if(Br.has(x)){let E=h.headers.get("Location");if(S(E,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(E)){if(!o){let O=new URL(t.url),F=E.startsWith("//")?new URL(O.protocol+E):new URL(E);F.origin===O.origin&&(E=F.pathname+F.search+F.hash)}}else{let O=n.slice(0,n.indexOf(r)+1),F=Ie(O).map(W=>W.pathnameBase),L=Ze(E,F,new URL(t.url).pathname);if(S(te(L),"Unable to resolve redirect location: "+E),a){let W=L.pathname;L.pathname=W==="/"?a:V([a,W])}E=te(L)}if(o)throw h.headers.set("Location",E),h;return{type:k.redirect,status:x,location:E,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(i)throw{type:d||k.data,response:h};let C,D=h.headers.get("Content-Type");return D&&/\bapplication\/json\b/.test(D)?C=await h.json():C=await h.text(),d===k.error?{type:d,error:new et(x,h.statusText,C),headers:h.headers}:{type:k.data,data:C,statusCode:h.status,headers:h.headers}}return d===k.error?{type:d,error:h}:h instanceof Fr?{type:k.deferred,deferredData:h}:{type:k.data,data:h}}function ve(e,t,r,n){let a=e.createURL($t(t)).toString(),o={signal:r};if(n&&Y(n.formMethod)){let{formMethod:i,formEncType:u,formData:d}=n;o.method=i.toUpperCase(),o.body=u==="application/x-www-form-urlencoded"?Bt(d):d}return new Request(a,o)}function Bt(e){let t=new URLSearchParams;for(let[r,n]of e.entries())S(typeof n=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(r,n);return t}function Jr(e,t,r,n,a){let o={},i=null,u,d=!1,h={};return r.forEach((p,y)=>{let l=t[y].route.id;if(S(!ie(p),"Cannot handle redirect results in processLoaderData"),be(p)){let x=oe(e,l),C=p.error;n&&(C=Object.values(n)[0],n=void 0),i=i||{},i[x.route.id]==null&&(i[x.route.id]=C),o[l]=void 0,d||(d=!0,u=jt(p.error)?p.error.status:500),p.headers&&(h[l]=p.headers)}else ee(p)?(a.set(l,p.deferredData),o[l]=p.deferredData.data):o[l]=p.data,p.statusCode!=null&&p.statusCode!==200&&!d&&(u=p.statusCode),p.headers&&(h[l]=p.headers)}),n&&(i=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:i,statusCode:u||200,loaderHeaders:h}}function bt(e,t,r,n,a,o,i,u){let{loaderData:d,errors:h}=Jr(t,r,n,a,u);for(let p=0;p<o.length;p++){let[y,,l]=o[p];S(i!==void 0&&i[p]!==void 0,"Did not find corresponding fetcher result");let x=i[p];if(be(x)){let C=oe(e.matches,l.route.id);h&&h[C.route.id]||(h=U({},h,{[C.route.id]:x.error})),e.fetchers.delete(y)}else if(ie(x))S(!1,"Unhandled fetcher revalidation redirect");else if(ee(x))S(!1,"Unhandled fetcher deferred data");else{let C={state:"idle",data:x.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(y,C)}}return{loaderData:d,errors:h}}function wt(e,t,r,n){let a=U({},t);for(let o of r){let i=o.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function oe(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Et(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function J(e,t){let{pathname:r,routeId:n,method:a,type:o}=t===void 0?{}:t,i="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(i="Bad Request",a&&r&&n?u="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?u="defer() is not supported in actions":u="Cannot submit binary form data using GET"):e===403?(i="Forbidden",u='Route "'+n+'" does not match URL "'+r+'"'):e===404?(i="Not Found",u='No route matches URL "'+r+'"'):e===405&&(i="Method Not Allowed",a&&r&&n?u="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new et(e||500,i,new Error(u),!0)}function Rt(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(ie(r))return r}}function $t(e){let t=typeof e=="string"?K(e):e;return te(U({},t,{hash:""}))}function Vr(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function ee(e){return e.type===k.deferred}function be(e){return e.type===k.error}function ie(e){return(e&&e.type)===k.redirect}function Yr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function qr(e){return _r.has(e)}function Y(e){return kr.has(e)}async function St(e,t,r,n,a,o){for(let i=0;i<r.length;i++){let u=r[i],d=t[i],h=e.find(y=>y.route.id===d.route.id),p=h!=null&&!_t(h,d)&&(o&&o[d.route.id])!==void 0;ee(u)&&(a||p)&&await Ht(u,n,a).then(y=>{y&&(r[i]=y||r[i])})}}async function Ht(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:k.data,data:e.deferredData.unwrappedData}}catch(a){return{type:k.error,error:a}}return{type:k.data,data:e.deferredData.data}}}function Kt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Dt(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function xt(e,t){let r=typeof t=="string"?K(t).search:t.search;if(e[e.length-1].route.index&&Kt(r||""))return e[e.length-1];let n=Ie(e);return n[n.length-1]}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le.apply(this,arguments)}function Xr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Qr=typeof Object.is=="function"?Object.is:Xr,{useState:Zr,useEffect:en,useLayoutEffect:tn,useDebugValue:rn}=Ve;function nn(e,t,r){const n=t(),[{inst:a},o]=Zr({inst:{value:n,getSnapshot:t}});return tn(()=>{a.value=n,a.getSnapshot=t,Je(a)&&o({inst:a})},[e,n,t]),en(()=>(Je(a)&&o({inst:a}),e(()=>{Je(a)&&o({inst:a})})),[e]),rn(n),n}function Je(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!Qr(r,n)}catch{return!0}}function an(e,t,r){return t()}const on=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ln=!on,sn=ln?an:nn,cn="useSyncExternalStore"in Ve?(e=>e.useSyncExternalStore)(Ve):sn,tt=g.createContext(null),Fe=g.createContext(null),Te=g.createContext(null),je=g.createContext(null),re=g.createContext({outlet:null,matches:[]}),Wt=g.createContext(null);function In(e,t){let{relative:r}=t===void 0?{}:t;le()||S(!1);let{basename:n,navigator:a}=g.useContext(Te),{hash:o,pathname:i,search:u}=fn(e,{relative:r}),d=i;return n!=="/"&&(d=i==="/"?n:V([n,i])),a.createHref({pathname:d,search:u,hash:o})}function le(){return g.useContext(je)!=null}function rt(){return le()||S(!1),g.useContext(je).location}function un(){le()||S(!1);let{basename:e,navigator:t}=g.useContext(Te),{matches:r}=g.useContext(re),{pathname:n}=rt(),a=JSON.stringify(Ie(r).map(u=>u.pathnameBase)),o=g.useRef(!1);return g.useEffect(()=>{o.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){t.go(u);return}let h=Ze(u,JSON.parse(a),n,d.relative==="path");e!=="/"&&(h.pathname=h.pathname==="/"?e:V([e,h.pathname])),(d.replace?t.replace:t.push)(h,d.state,d)},[e,t,a,n])}const dn=g.createContext(null);function Fn(e){let t=g.useContext(re).outlet;return t&&g.createElement(dn.Provider,{value:e},t)}function fn(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=g.useContext(re),{pathname:a}=rt(),o=JSON.stringify(Ie(n).map(i=>i.pathnameBase));return g.useMemo(()=>Ze(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function hn(e,t){le()||S(!1);let{navigator:r}=g.useContext(Te),n=g.useContext(Fe),{matches:a}=g.useContext(re),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=rt(),h;if(t){var p;let D=typeof t=="string"?K(t):t;u==="/"||((p=D.pathname)==null?void 0:p.startsWith(u))||S(!1),h=D}else h=d;let y=h.pathname||"/",l=u==="/"?y:y.slice(u.length)||"/",x=ye(e,{pathname:l}),C=vn(x&&x.map(D=>Object.assign({},D,{params:Object.assign({},i,D.params),pathname:V([u,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:V([u,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,n||void 0);return t&&C?g.createElement(je.Provider,{value:{location:Le({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:T.Pop}},C):C}function pn(){let e=wn(),t=jt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unhandled Thrown Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:o},"errorElement")," props on ",g.createElement("code",{style:o},"<Route>")))}class mn extends g.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?g.createElement(re.Provider,{value:this.props.routeContext},g.createElement(Wt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gn(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(tt);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(re.Provider,{value:t},n)}function vn(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,a=r==null?void 0:r.errors;if(a!=null){let o=n.findIndex(i=>i.route.id&&(a==null?void 0:a[i.route.id]));o>=0||S(!1),n=n.slice(0,Math.min(n.length,o+1))}return n.reduceRight((o,i,u)=>{let d=i.route.id?a==null?void 0:a[i.route.id]:null,h=r?i.route.errorElement||g.createElement(pn,null):null,p=t.concat(n.slice(0,u+1)),y=()=>g.createElement(gn,{match:i,routeContext:{outlet:o,matches:p}},d?h:i.route.element!==void 0?i.route.element:o);return r&&(i.route.errorElement||u===0)?g.createElement(mn,{location:r.location,component:h,error:d,children:y(),routeContext:{outlet:null,matches:p}}):y()},null)}var Pt;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Pt||(Pt={}));var Ee;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Ee||(Ee={}));function zt(e){let t=g.useContext(Fe);return t||S(!1),t}function yn(e){let t=g.useContext(re);return t||S(!1),t}function bn(e){let t=yn(),r=t.matches[t.matches.length-1];return r.route.id||S(!1),r.route.id}function Tn(){let{matches:e,loaderData:t}=zt(Ee.UseMatches);return g.useMemo(()=>e.map(r=>{let{pathname:n,params:a}=r;return{id:r.route.id,pathname:n,params:a,data:t[r.route.id],handle:r.route.handle}}),[e,t])}function wn(){var e;let t=g.useContext(Wt),r=zt(Ee.UseRouteError),n=bn(Ee.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function jn(e){let{fallbackElement:t,router:r}=e,n=cn(r.subscribe,()=>r.state,()=>r.state),a=g.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:i=>r.navigate(i),push:(i,u,d)=>r.navigate(i,{state:u,preventScrollReset:d==null?void 0:d.preventScrollReset}),replace:(i,u,d)=>r.navigate(i,{replace:!0,state:u,preventScrollReset:d==null?void 0:d.preventScrollReset})}),[r]),o=r.basename||"/";return g.createElement(g.Fragment,null,g.createElement(tt.Provider,{value:{router:r,navigator:a,static:!1,basename:o}},g.createElement(Fe.Provider,{value:n},g.createElement(Rn,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?g.createElement(Sn,null):t))),null)}function kn(e){let{to:t,replace:r,state:n,relative:a}=e;le()||S(!1);let o=g.useContext(Fe),i=un();return g.useEffect(()=>{o&&o.navigation.state!=="idle"||i(t,{replace:r,state:n,relative:a})}),null}function En(e){S(!1)}function Rn(e){let{basename:t="/",children:r=null,location:n,navigationType:a=T.Pop,navigator:o,static:i=!1}=e;le()&&S(!1);let u=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:u,navigator:o,static:i}),[u,o,i]);typeof n=="string"&&(n=K(n));let{pathname:h="/",search:p="",hash:y="",state:l=null,key:x="default"}=n,C=g.useMemo(()=>{let D=Tt(h,u);return D==null?null:{pathname:D,search:p,hash:y,state:l,key:x}},[u,h,p,y,l,x]);return C==null?null:g.createElement(Te.Provider,{value:d},g.createElement(je.Provider,{children:r,value:{location:C,navigationType:a}}))}function Sn(e){let{children:t,location:r}=e,n=g.useContext(tt),a=n&&!t?n.router.routes:qe(t);return hn(a,r)}var Mt;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Mt||(Mt={}));new Promise(()=>{});function qe(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;if(n.type===g.Fragment){r.push.apply(r,qe(n.props.children,t));return}n.type!==En&&S(!1),!n.props.index||!n.props.children||S(!1);let o=[...t,a],i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(i.children=qe(n.props.children,o)),r.push(i)}),r}function Dn(e){return e.map(t=>{let r=Le({},t);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=Dn(r.children)),r})}var Ae;(e=>{({actions:{actLogin:e.actLogin,actSignOut:e.actSignOut},name:e.name,reducer:e.reducer}=Qe({name:"auth",initialState:Pn,reducers:{actLogin(t,{payload:r}){const{username:n,invalidTime:a,token:o,remember:i}=r;Object.assign(t,{username:n,invalidTime:a,token:o,isLogined:!0}),Ye.success("登录成功"),i&&(localStorage.setItem("auth",JSON.stringify(t)),localStorage.setItem("token",o))},actSignOut(t){Object.assign(t,{isLogined:!1,username:"",invalidTime:0,token:""}),localStorage.removeItem("auth"),localStorage.removeItem("token"),Ye.success("登录已注销")}}}))})(Ae||(Ae={}));const Ct=Ae,{name:Nn,reducer:_n,actLogin:Bn,actSignOut:xn}=Ae;function Pn(){const e={isLogined:!1,username:"",invalidTime:0,token:""};try{const t=localStorage.getItem("auth");if(!t)return e;const r=JSON.parse(t),{username:n,invalidTime:a,token:o}=r;if(!n||!a||!o)throw new Error;if(typeof n!="string")throw new Error;if(typeof a!="number")throw new Error;if(a<Date.now()+1e3*60*15)throw new Error;if(typeof o!="string")throw new Error;Object.assign(e,{username:n,invalidTime:a,token:o,isLogined:!0}),localStorage.setItem("token",o)}catch{localStorage.removeItem("auth"),localStorage.removeItem("token"),Ye.warning("原登录信息已失效")}return e}function Mn(){return{isShow:!1,imgArr:[]}}var Xe;(e=>{({actions:{actIsShow:e.actIsShow,actImgArr:e.actImgArr},name:e.name,reducer:e.reducer}=Qe({name:"gallery",initialState:Mn,reducers:{actIsShow(t,{payload:r}){t.isShow=r},actImgArr(t,{payload:r}){t.imgArr=r}}}))})(Xe||(Xe={}));const Lt=Xe;function Cn(){return{isDark:!1,galleryIsShow:!1,galleryList:[]}}var Oe;(e=>{({actions:{actIsDark:e.actIsDark,actGalleryIsShow:e.actGalleryIsShow,actGalleryList:e.actGalleryList},name:e.name,reducer:e.reducer}=Qe({name:"theme",initialState:Cn,reducers:{actIsDark(t,{payload:r}){t.isDark=Boolean(r)},actGalleryIsShow(t,{payload:r}){t.galleryIsShow=r},actGalleryList(t,{payload:r}){t.galleryList=r}}}))})(Oe||(Oe={}));const At=Oe,{name:$n,reducer:Hn,actIsDark:Kn,actGalleryIsShow:Wn,actGalleryList:zn}=Oe,Ce=sr({reducer:{[We.reducerPath]:We.reducer,[Ct.name]:Ct.reducer,[Lt.name]:Lt.reducer,[At.name]:At.reducer},middleware(e){return e().concat(We.middleware)}});cr(Ce.dispatch);let Me;Ce.subscribe(()=>{const{auth:{isLogined:e,invalidTime:t}}=Ce.getState(),r=t-Date.now()-1e3*60;if(e&&r>0){Me||(Me=setTimeout(()=>Ce.dispatch(xn()),r));return}if(Me){clearTimeout(Me),Me&&(Me=void 0);return}});const Gn=dr,Jn=ur;export{Fe as D,et as E,Te as N,jn as R,Jn as a,Wn as b,Kn as c,Un as d,On as e,Dn as f,fn as g,rt as h,In as i,un as j,te as k,kn as l,Tn as m,Fn as n,Bn as o,xn as p,Ce as s,Gn as u};
