import{av as k,r,p as z,aw as A,L as R,B as $,ax as G,d as w,v as M,R as S,a1 as j,O as I}from"./index-a3b6d2d0.js";const{isValidElement:x}=k;function oe(e){return e&&x(e)&&e.type===r.Fragment}function D(e,t,o){return x(e)?r.cloneElement(e,typeof o=="function"?o(e.props||{}):o):t}function U(e,t){return D(e,e,t)}const _=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),o=t.width,s=t.height;if(o||s)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),u=i.width,l=i.height;if(u||l)return!0}return!1},q=e=>{const{componentCls:t,colorPrimary:o}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${o})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},J=z("Wave",e=>[q(e)]);function K(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function h(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&K(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Q(e){const{borderTopColor:t,borderColor:o,backgroundColor:s}=getComputedStyle(e);return h(t)?t:h(o)?o:h(s)?s:null}function E(e){return Number.isNaN(e)?0:e}const X=e=>{const{className:t,target:o}=e,s=r.useRef(null),[i,u]=r.useState(null),[l,b]=r.useState([]),[g,a]=r.useState(0),[v,m]=r.useState(0),[N,W]=r.useState(0),[T,L]=r.useState(0),[B,O]=r.useState(!1),y={left:g,top:v,width:N,height:T,borderRadius:l.map(c=>`${c}px`).join(" ")};i&&(y["--wave-color"]=i);function C(){const c=getComputedStyle(o);u(Q(o));const n=c.position==="static",{borderLeftWidth:f,borderTopWidth:d}=c;a(n?o.offsetLeft:E(-parseFloat(f))),m(n?o.offsetTop:E(-parseFloat(d))),W(o.offsetWidth),L(o.offsetHeight);const{borderTopLeftRadius:p,borderTopRightRadius:F,borderBottomLeftRadius:H,borderBottomRightRadius:P}=c;b([p,F,P,H].map(V=>E(parseFloat(V))))}return r.useEffect(()=>{if(o){const c=R(()=>{C(),O(!0)});let n;return typeof ResizeObserver<"u"&&(n=new ResizeObserver(C),n.observe(o)),()=>{R.cancel(c),n==null||n.disconnect()}}},[]),B?r.createElement($,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(c,n)=>{var f;if(n.deadline||n.propertyName==="opacity"){const d=(f=s.current)===null||f===void 0?void 0:f.parentElement;G(d).then(()=>{var p;(p=d.parentElement)===null||p===void 0||p.removeChild(d)})}return!1}},c=>{let{className:n}=c;return r.createElement("div",{ref:s,className:w(t,n),style:y})}):null};function Y(e,t){const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",e==null||e.insertBefore(o,e==null?void 0:e.firstChild),A(r.createElement(X,{target:e,className:t}),o)}function Z(e,t){function o(){const s=e.current;Y(s,t)}return o}const ee=e=>{const{children:t,disabled:o}=e,{getPrefixCls:s}=r.useContext(M),i=r.useRef(null),u=s("wave"),[,l]=J(u),b=Z(i,w(u,l));if(S.useEffect(()=>{const a=i.current;if(!a||a.nodeType!==1||o)return;const v=m=>{m.target.tagName==="INPUT"||!_(m.target)||!a.getAttribute||a.getAttribute("disabled")||a.disabled||a.className.includes("disabled")||a.className.includes("-leave")||b()};return a.addEventListener("click",v,!0),()=>{a.removeEventListener("click",v,!0)}},[o]),!S.isValidElement(t))return t??null;const g=j(t)?I(t.ref,i):i;return U(t,{ref:g})},re=ee;export{re as W,_ as a,oe as b,U as c,x as i};
