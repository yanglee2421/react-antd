import{E as $t}from"./EyeOutlined-5b47683c.js";import{y as At,z as kt,B as Ve,i as me,n as oe,j as Y,h as We,D as Fe,E as ut,F as Lt,A as Le,_ as ce,p as Tt,T as we,q as Qe,G as jt,s as _t,t as ft,H as Je}from"./useMergedState-f9769ca5.js";import{r as o,b as zt,R as j}from"./jsx-runtime-d4f0a224.js";import{p as Dt,g as mt,a as Ut}from"./css-e57bdb68.js";import{P as dt,i as vt}from"./Portal-633aeb79.js";import{K as Me}from"./render-e0c466da.js";import{a as Se,i as Zt,g as $e}from"./zoom-0c098fb8.js";import{C as Vt}from"./api-rtkq-d736cb74.js";import{L as Wt,R as Bt}from"./RightOutlined-401071ba.js";function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(r){ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ht(e){if(Array.isArray(e))return e}function Yt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function et(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){if(!!e){if(typeof e=="string")return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}}function Xt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(e,t){return Ht(e)||Yt(e,t)||Gt(e,t)||Xt()}function Ae(e){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(e)}function Kt(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function ke(e,t){if(e==null)return{};var n=Kt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Ft(){var e=kt({},zt);return e.useId}var tt=0;function Qt(e){var t=o.useState("ssr-id"),n=At(t,2),r=n[0],a=n[1],i=Ft(),s=i==null?void 0:i();return o.useEffect(function(){if(!i){var l=tt;tt+=1,a("rc_unique_".concat(l))}},[]),e||s||r}function Jt(e){var t=e.prefixCls,n=e.style,r=e.visible,a=e.maskProps,i=e.motionName;return o.createElement(Ve,{key:"mask",visible:r,motionName:i,leavedClassName:"".concat(t,"-mask-hidden")},function(s,l){var c=s.className,v=s.style;return o.createElement("div",me({ref:l,style:oe(oe({},v),n),className:Y("".concat(t,"-mask"),c)},a))})}function nt(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function rt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var a=e.document;n=a.documentElement[r],typeof n!="number"&&(n=a.body[r])}return n}function qt(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,a=r.defaultView||r.parentWindow;return n.left+=rt(a),n.top+=rt(a,!0),n}const en=o.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var ot={width:0,height:0,overflow:"hidden",outline:"none"},tn=j.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,a=e.style,i=e.title,s=e.ariaId,l=e.footer,c=e.closable,v=e.closeIcon,f=e.onClose,m=e.children,g=e.bodyStyle,u=e.bodyProps,p=e.modalRender,P=e.onMouseDown,N=e.onMouseUp,M=e.holderRef,_=e.visible,x=e.forceRender,S=e.width,L=e.height,C=o.useRef(),O=o.useRef();j.useImperativeHandle(t,function(){return{focus:function(){var w;(w=C.current)===null||w===void 0||w.focus()},changeActive:function(w){var $=document,y=$.activeElement;w&&y===O.current?C.current.focus():!w&&y===C.current&&O.current.focus()}}});var V={};S!==void 0&&(V.width=S),L!==void 0&&(V.height=L);var E;l&&(E=j.createElement("div",{className:"".concat(n,"-footer")},l));var z;i&&(z=j.createElement("div",{className:"".concat(n,"-header")},j.createElement("div",{className:"".concat(n,"-title"),id:s},i)));var D;c&&(D=j.createElement("button",{type:"button",onClick:f,"aria-label":"Close",className:"".concat(n,"-close")},v||j.createElement("span",{className:"".concat(n,"-close-x")})));var T=j.createElement("div",{className:"".concat(n,"-content")},D,z,j.createElement("div",me({className:"".concat(n,"-body"),style:g},u),m),E);return j.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?s:null,"aria-modal":"true",ref:M,style:oe(oe({},a),V),className:Y(n,r),onMouseDown:P,onMouseUp:N},j.createElement("div",{tabIndex:0,ref:C,style:ot,"aria-hidden":"true"}),j.createElement(en,{shouldUpdate:_||x},p?p(T):T),j.createElement("div",{tabIndex:0,ref:O,style:ot,"aria-hidden":"true"}))}),gt=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,a=e.style,i=e.className,s=e.visible,l=e.forceRender,c=e.destroyOnClose,v=e.motionName,f=e.ariaId,m=e.onVisibleChanged,g=e.mousePosition,u=o.useRef(),p=o.useState(),P=We(p,2),N=P[0],M=P[1],_={};N&&(_.transformOrigin=N);function x(){var S=qt(u.current);M(g?"".concat(g.x-S.left,"px ").concat(g.y-S.top,"px"):"")}return o.createElement(Ve,{visible:s,onVisibleChanged:m,onAppearPrepare:x,onEnterPrepare:x,forceRender:l,motionName:v,removeOnLeave:c,ref:u},function(S,L){var C=S.className,O=S.style;return o.createElement(tn,me({},e,{ref:t,title:r,ariaId:f,prefixCls:n,holderRef:L,style:oe(oe(oe({},O),a),_),className:Y(i,C)}))})});gt.displayName="Content";function nn(e){var t=e.prefixCls,n=t===void 0?"rc-dialog":t,r=e.zIndex,a=e.visible,i=a===void 0?!1:a,s=e.keyboard,l=s===void 0?!0:s,c=e.focusTriggerAfterClose,v=c===void 0?!0:c,f=e.wrapStyle,m=e.wrapClassName,g=e.wrapProps,u=e.onClose,p=e.afterClose,P=e.transitionName,N=e.animation,M=e.closable,_=M===void 0?!0:M,x=e.mask,S=x===void 0?!0:x,L=e.maskTransitionName,C=e.maskAnimation,O=e.maskClosable,V=O===void 0?!0:O,E=e.maskStyle,z=e.maskProps,D=e.rootClassName,T=o.useRef(),R=o.useRef(),w=o.useRef(),$=o.useState(i),y=We($,2),h=y[0],I=y[1],U=Qt();function Z(){Fe(R.current,document.activeElement)||(T.current=document.activeElement)}function A(){if(!Fe(R.current,document.activeElement)){var b;(b=w.current)===null||b===void 0||b.focus()}}function F(b){if(b)A();else{if(I(!1),S&&T.current&&v){try{T.current.focus({preventScroll:!0})}catch{}T.current=null}h&&(p==null||p())}}function B(b){u==null||u(b)}var G=o.useRef(!1),X=o.useRef(),W=function(){clearTimeout(X.current),G.current=!0},H=function(){X.current=setTimeout(function(){G.current=!1})},Q=null;V&&(Q=function(ee){G.current?G.current=!1:R.current===ee.target&&B(ee)});function ae(b){if(l&&b.keyCode===Me.ESC){b.stopPropagation(),B(b);return}i&&b.keyCode===Me.TAB&&w.current.changeActive(!b.shiftKey)}return o.useEffect(function(){i&&(I(!0),Z())},[i]),o.useEffect(function(){return function(){clearTimeout(X.current)}},[]),o.createElement("div",me({className:Y("".concat(n,"-root"),D)},Dt(e,{data:!0})),o.createElement(Jt,{prefixCls:n,visible:S&&i,motionName:nt(n,L,C),style:oe({zIndex:r},E),maskProps:z}),o.createElement("div",me({tabIndex:-1,onKeyDown:ae,className:Y("".concat(n,"-wrap"),m),ref:R,onClick:Q,style:oe(oe({zIndex:r},f),{},{display:h?null:"none"})},g),o.createElement(gt,me({},e,{onMouseDown:W,onMouseUp:H,ref:w,closable:_,ariaId:U,prefixCls:n,visible:i&&h,onClose:B,onVisibleChanged:F,motionName:nt(n,P,N)}))))}var pt=function(t){var n=t.visible,r=t.getContainer,a=t.forceRender,i=t.destroyOnClose,s=i===void 0?!1:i,l=t.afterClose,c=o.useState(n),v=We(c,2),f=v[0],m=v[1];return o.useEffect(function(){n&&m(!0)},[n]),!a&&s&&!f?null:o.createElement(dt,{open:n||a||f,autoDestroy:!1,getContainer:r,autoLock:n||f},o.createElement(nn,me({},t,{destroyOnClose:s,afterClose:function(){l==null||l(),m(!1)}})))};pt.displayName="Dialog";var rn=["visible","onVisibleChange","getContainer","current","countRender"],Be=o.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),on=Be.Provider,an=function(t){var n=t.previewPrefixCls,r=n===void 0?"rc-image-preview":n,a=t.children,i=t.icons,s=i===void 0?{}:i,l=t.preview,c=Ae(l)==="object"?l:{},v=c.visible,f=v===void 0?void 0:v,m=c.onVisibleChange,g=m===void 0?void 0:m,u=c.getContainer,p=u===void 0?void 0:u,P=c.current,N=P===void 0?0:P,M=c.countRender,_=M===void 0?void 0:M,x=ke(c,rn),S=o.useState(new Map),L=q(S,2),C=L[0],O=L[1],V=o.useState(),E=q(V,2),z=E[0],D=E[1],T=ut(!!f,{value:f,onChange:g}),R=q(T,2),w=R[0],$=R[1],y=o.useState(null),h=q(y,2),I=h[0],U=h[1],Z=f!==void 0,A=Array.from(C.keys()),F=A[N],B=new Map(Array.from(C).filter(function(W){var H=q(W,2),Q=H[1].canPreview;return!!Q}).map(function(W){var H=q(W,2),Q=H[0],ae=H[1].url;return[Q,ae]})),G=function(H,Q){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,b=function(){O(function(ve){var ue=new Map(ve),ge=ue.delete(H);return ge?ue:ve})};return O(function(ee){return new Map(ee).set(H,{url:Q,canPreview:ae})}),b},X=function(H){H.stopPropagation(),$(!1),U(null)};return o.useEffect(function(){D(F)},[F]),o.useEffect(function(){!w&&Z&&D(F)},[F,Z,w]),o.createElement(on,{value:{isPreviewGroup:!0,previewUrls:B,setPreviewUrls:O,current:z,setCurrent:D,setShowPreview:$,setMousePosition:U,registerImage:G}},a,o.createElement(wt,de({"aria-hidden":!w,visible:w,prefixCls:r,onClose:X,mousePosition:I,src:B.get(z),icons:s,getContainer:p,countRender:_},x)))},Ee=1,Re=50,Pe=1,sn=.2,ln=function(t){var n,r=t.visible,a=t.maskTransitionName,i=t.getContainer,s=t.prefixCls,l=t.rootClassName,c=t.icons,v=t.countRender,f=t.showSwitch,m=t.showProgress,g=t.current,u=t.count,p=t.scale,P=t.onSwitchLeft,N=t.onSwitchRight,M=t.onClose,_=t.onZoomIn,x=t.onZoomOut,S=t.onRotateRight,L=t.onRotateLeft,C=c.rotateLeft,O=c.rotateRight,V=c.zoomIn,E=c.zoomOut,z=c.close,D=c.left,T=c.right,R="".concat(s,"-operations-operation"),w="".concat(s,"-operations-icon"),$=[{icon:z,onClick:M,type:"close"},{icon:V,onClick:_,type:"zoomIn",disabled:p===Re},{icon:E,onClick:x,type:"zoomOut",disabled:p===Ee},{icon:O,onClick:S,type:"rotateRight"},{icon:C,onClick:L,type:"rotateLeft"}],y=o.createElement(o.Fragment,null,f&&o.createElement(o.Fragment,null,o.createElement("div",{className:Y("".concat(s,"-switch-left"),ne({},"".concat(s,"-switch-left-disabled"),g===0)),onClick:P},D),o.createElement("div",{className:Y("".concat(s,"-switch-right"),ne({},"".concat(s,"-switch-right-disabled"),g===u-1)),onClick:N},T)),o.createElement("ul",{className:"".concat(s,"-operations")},m&&o.createElement("li",{className:"".concat(s,"-operations-progress")},(n=v==null?void 0:v(g+1,u))!==null&&n!==void 0?n:"".concat(g+1," / ").concat(u)),$.map(function(h){var I,U=h.icon,Z=h.onClick,A=h.type,F=h.disabled;return o.createElement("li",{className:Y(R,(I={},ne(I,"".concat(s,"-operations-operation-").concat(A),!0),ne(I,"".concat(s,"-operations-operation-disabled"),!!F),I)),onClick:Z,key:A},o.isValidElement(U)?o.cloneElement(U,{className:w}):U)})));return o.createElement(Ve,{visible:r,motionName:a},function(h){var I=h.className,U=h.style;return o.createElement(dt,{open:!0,getContainer:i??document.body},o.createElement("div",{className:Y("".concat(s,"-operations-wrapper"),I,l),style:U},y))})},at={x:0,y:0,rotate:0,scale:1};function cn(e){var t=o.useRef(null),n=o.useRef([]),r=o.useState(at),a=q(r,2),i=a[0],s=a[1],l=function(){s(at)},c=function(m){t.current===null&&(n.current=[],t.current=Lt(function(){s(function(g){var u=g;return n.current.forEach(function(p){u=ie(ie({},u),p)}),t.current=null,u})})),n.current.push(ie(ie({},i),m))},v=function(m,g,u){var p=e.current,P=p.width,N=p.height,M=p.offsetWidth,_=p.offsetHeight,x=p.offsetLeft,S=p.offsetTop,L=m,C=i.scale*m;C>Re?(L=Re/i.scale,C=Re):C<Ee&&(L=Ee/i.scale,C=Ee);var O=g??innerWidth/2,V=u??innerHeight/2,E=L-1,z=E*P*.5,D=E*N*.5,T=E*(O-i.x-x),R=E*(V-i.y-S),w=i.x-(T-z),$=i.y-(R-D);if(m<1&&C===1){var y=M*C,h=_*C,I=mt(),U=I.width,Z=I.height;y<=U&&h<=Z&&(w=0,$=0)}c({x:w,y:$,scale:C})};return{transform:i,resetTransform:l,updateTransform:c,dispatchZoonChange:v}}function it(e,t,n,r){var a=t+n,i=(n-r)/2;if(n>r){if(t>0)return ne({},e,i);if(t<0&&a<r)return ne({},e,-i)}else if(t<0||a>r)return ne({},e,t<0?i:-i);return{}}function un(e,t,n,r){var a=mt(),i=a.width,s=a.height,l=null;return e<=i&&t<=s?l={x:0,y:0}:(e>i||t>s)&&(l=ie(ie({},it("x",n,e,i)),it("y",r,t,s))),l}var fn=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],wt=function(t){var n=t.prefixCls,r=t.src,a=t.alt,i=t.onClose;t.afterClose;var s=t.visible,l=t.icons,c=l===void 0?{}:l,v=t.rootClassName,f=t.getContainer,m=t.countRender,g=t.scaleStep,u=g===void 0?.5:g,p=t.transitionName,P=p===void 0?"zoom":p,N=t.maskTransitionName,M=N===void 0?"fade":N,_=ke(t,fn),x=o.useRef(),S=o.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),L=o.useState(!1),C=q(L,2),O=C[0],V=C[1],E=o.useContext(Be),z=E.previewUrls,D=E.current,T=E.isPreviewGroup,R=E.setCurrent,w=z.size,$=Array.from(z.keys()),y=$.indexOf(D),h=T?z.get(D):r,I=T&&w>1,U=T&&w>=1,Z=cn(x),A=Z.transform,F=Z.resetTransform,B=Z.updateTransform,G=Z.dispatchZoonChange,X=A.rotate,W=A.scale,H=Y(ne({},"".concat(n,"-moving"),O)),Q=function(){F()},ae=function(){G(Pe+u)},b=function(){G(Pe-u)},ee=function(){B({rotate:X+90})},ve=function(){B({rotate:X-90})},ue=function(d){d.preventDefault(),d.stopPropagation(),y>0&&R($[y-1])},ge=function(d){d.preventDefault(),d.stopPropagation(),y<w-1&&R($[y+1])},Ce=function(){if(s&&O){V(!1);var d=S.current,se=d.transformX,re=d.transformY,K=A.x!==se&&A.y!==re;if(!K)return;var te=x.current.offsetWidth*W,le=x.current.offsetHeight*W,Oe=x.current.getBoundingClientRect(),ze=Oe.left,xe=Oe.top,Ie=X%180!==0,Ne=un(Ie?le:te,Ie?te:le,ze,xe);Ne&&B(ie({},Ne))}},je=function(d){d.button===0&&(d.preventDefault(),d.stopPropagation(),S.current={deltaX:d.pageX-A.x,deltaY:d.pageY-A.y,transformX:A.x,transformY:A.y},V(!0))},he=function(d){s&&O&&B({x:d.pageX-S.current.deltaX,y:d.pageY-S.current.deltaY})},ye=function(d){if(!(!s||d.deltaY==0)){var se=Math.abs(d.deltaY/100),re=Math.min(se,sn),K=Pe+re*u;d.deltaY>0&&(K=Pe/K),G(K,d.clientX,d.clientY)}},fe=o.useCallback(function(k){!s||!I||(k.keyCode===Me.LEFT?y>0&&R($[y-1]):k.keyCode===Me.RIGHT&&y<w-1&&R($[y+1]))},[y,w,$,R,I,s]),_e=function(d){s&&(W!==1?B({x:0,y:0,scale:1}):G(Pe+u,d.clientX,d.clientY))};return o.useEffect(function(){var k,d,se=Se(window,"mouseup",Ce,!1),re=Se(window,"mousemove",he,!1),K=Se(window,"keydown",fe,!1);try{window.top!==window.self&&(k=Se(window.top,"mouseup",Ce,!1),d=Se(window.top,"mousemove",he,!1))}catch{}return function(){var te,le;se.remove(),re.remove(),K.remove(),(te=k)===null||te===void 0||te.remove(),(le=d)===null||le===void 0||le.remove()}},[s,O,fe]),j.createElement(j.Fragment,null,j.createElement(pt,de({transitionName:P,maskTransitionName:M,closable:!1,keyboard:!0,prefixCls:n,onClose:i,afterClose:Q,visible:s,wrapClassName:H,rootClassName:v,getContainer:f},_),j.createElement("div",{className:"".concat(n,"-img-wrapper")},j.createElement("img",{width:t.width,height:t.height,onWheel:ye,onMouseDown:je,onDoubleClick:_e,ref:x,className:"".concat(n,"-img"),src:h,alt:a,style:{transform:"translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) scale3d(").concat(W,", ").concat(W,", 1) rotate(").concat(X,"deg)")}}))),j.createElement(ln,{visible:s,maskTransitionName:M,getContainer:f,prefixCls:n,rootClassName:v,icons:c,countRender:m,showSwitch:I,showProgress:U,current:y,count:w,scale:W,onSwitchLeft:ue,onSwitchRight:ge,onZoomIn:ae,onZoomOut:b,onRotateRight:ee,onRotateLeft:ve,onClose:i}))},mn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],dn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],st=0,Te=function(t){var n,r=t.src,a=t.alt,i=t.onPreviewClose,s=t.prefixCls,l=s===void 0?"rc-image":s,c=t.previewPrefixCls,v=c===void 0?"".concat(l,"-preview"):c,f=t.placeholder,m=t.fallback,g=t.width,u=t.height,p=t.style,P=t.preview,N=P===void 0?!0:P,M=t.className,_=t.onClick,x=t.onError,S=t.wrapperClassName,L=t.wrapperStyle,C=t.rootClassName,O=t.crossOrigin,V=t.decoding,E=t.loading,z=t.referrerPolicy,D=t.sizes,T=t.srcSet,R=t.useMap,w=t.draggable,$=ke(t,mn),y=f&&f!==!0,h=Ae(N)==="object"?N:{},I=h.src,U=h.visible,Z=U===void 0?void 0:U,A=h.onVisibleChange,F=A===void 0?i:A,B=h.getContainer,G=B===void 0?void 0:B,X=h.mask,W=h.maskClassName,H=h.icons,Q=h.scaleStep,ae=ke(h,dn),b=I??r,ee=Z!==void 0,ve=ut(!!Z,{value:Z,onChange:F}),ue=q(ve,2),ge=ue[0],Ce=ue[1],je=o.useState(y?"loading":"normal"),he=q(je,2),ye=he[0],fe=he[1],_e=o.useState(null),k=q(_e,2),d=k[0],se=k[1],re=ye==="error",K=o.useContext(Be),te=K.isPreviewGroup,le=K.setCurrent,Oe=K.setShowPreview,ze=K.setMousePosition,xe=K.registerImage,Ie=o.useState(function(){return st+=1,st}),Ne=q(Ie,1),De=Ne[0],be=!!N,Ue=o.useRef(!1),He=function(){fe("normal")},xt=function(J){x&&x(J),fe("error")},It=function(J){if(!ee){var Ge=Ut(J.target),Xe=Ge.left,Ke=Ge.top;te?(le(De),ze({x:Xe,y:Ke})):se({x:Xe,y:Ke})}te?Oe(!0):Ce(!0),_&&_(J)},Nt=function(J){J.stopPropagation(),Ce(!1),ee||se(null)},Et=function(J){Ue.current=!1,ye==="loading"&&J!=null&&J.complete&&(J.naturalWidth||J.naturalHeight)&&(Ue.current=!0,He())};o.useEffect(function(){var pe=xe(De,b);return pe},[]),o.useEffect(function(){xe(De,b,be)},[b,be]),o.useEffect(function(){re&&fe("normal"),y&&!Ue.current&&fe("loading")},[r]);var Rt=Y(l,S,C,ne({},"".concat(l,"-error"),re)),Mt=re&&m?m:b,Ye={crossOrigin:O,decoding:V,draggable:w,loading:E,referrerPolicy:z,sizes:D,srcSet:T,useMap:R,alt:a,className:Y("".concat(l,"-img"),ne({},"".concat(l,"-img-placeholder"),f===!0),M),style:ie({height:u},p)};return o.createElement(o.Fragment,null,o.createElement("div",de({},$,{className:Rt,onClick:be?It:_,style:ie({width:g,height:u},L)}),o.createElement("img",de({},Ye,{ref:Et},re&&m?{src:m}:{onLoad:He,onError:xt,src:r},{width:g,height:u})),ye==="loading"&&o.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},f),X&&be&&o.createElement("div",{className:Y("".concat(l,"-mask"),W),style:{display:((n=Ye.style)===null||n===void 0?void 0:n.display)==="none"?"none":void 0}},X)),!te&&be&&o.createElement(wt,de({"aria-hidden":!ge,visible:ge,prefixCls:v,onClose:Nt,mousePosition:d,src:Mt,alt:a,getContainer:G,icons:H,scaleStep:Q,rootClassName:C},ae)))};Te.PreviewGroup=an;Te.displayName="Image";var vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const gn=vn;var Ct=function(t,n){return o.createElement(Le,ce(ce({},t),{},{ref:n,icon:gn}))};Ct.displayName="RotateLeftOutlined";const pn=o.forwardRef(Ct);var wn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Cn=wn;var ht=function(t,n){return o.createElement(Le,ce(ce({},t),{},{ref:n,icon:Cn}))};ht.displayName="RotateRightOutlined";const hn=o.forwardRef(ht);var yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const bn=yn;var yt=function(t,n){return o.createElement(Le,ce(ce({},t),{},{ref:n,icon:bn}))};yt.displayName="ZoomInOutlined";const Sn=o.forwardRef(yt);var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const On=Pn;var bt=function(t,n){return o.createElement(Le,ce(ce({},t),{},{ref:n,icon:On}))};bt.displayName="ZoomOutOutlined";const xn=o.forwardRef(bt);function lt(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const In=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}${e.antCls}-zoom-enter, ${t}${e.antCls}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}-mask`]:Object.assign(Object.assign({},lt("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},lt("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:vt(e)}]},Ze=e=>({position:e||"absolute",inset:0}),Nn=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:a,prefixCls:i}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new we("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},jt),{padding:`0 ${r}px`,[t]:{marginInlineEnd:a}})}},En=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,imagePreviewOperationDisabledColor:a,motionDurationSlow:i}=e,s=new we(n).setAlpha(.1),l=s.clone().setAlpha(.2);return{[`${t}-operations`]:Object.assign(Object.assign({},_t(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.imagePreviewOperationColor,listStyle:"none",background:s.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${i}`,"&:hover":{background:l.toRgbString()},"&-disabled":{color:a,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.imagePreviewOperationSize}})}},Rn=e=>{const{modalMaskBg:t,iconCls:n,imagePreviewOperationDisabledColor:r,previewCls:a,zIndexPopup:i,motionDurationSlow:s}=e,l=new we(t).setAlpha(.1),c=l.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.imagePreviewOperationColor,background:l.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,pointerEvents:"auto","&:hover":{background:c.toRgbString()},["&-disabled"]:{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.imagePreviewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},Mn=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:a}=e;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Ze()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},Ze()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[En(e),Rn(e)]}]},$n=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Nn(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Ze())}}},An=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Zt(e,"zoom"),["&"]:vt(e,!0)}},St=Tt("Image",e=>{const t=new we(e.colorTextLightSolid),n=`${e.componentCls}-preview`,r=Qe(e,{previewCls:n,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new we(t).setAlpha(.25).toRgbString(),modalMaskBg:new we("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:e.fontSizeIcon*1.5,imagePreviewSwitchSize:e.controlHeightLG});return[$n(r),Mn(r),In(Qe(r,{componentCls:n})),An(r)]},e=>({zIndexPopup:e.zIndexPopupBase+80}));var kn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Pt={rotateLeft:o.createElement(pn,null),rotateRight:o.createElement(hn,null),zoomIn:o.createElement(Sn,null),zoomOut:o.createElement(xn,null),close:o.createElement(Vt,null),left:o.createElement(Wt,null),right:o.createElement(Bt,null)},Ln=e=>{var{previewPrefixCls:t,preview:n}=e,r=kn(e,["previewPrefixCls","preview"]);const{getPrefixCls:a}=o.useContext(ft),i=a("image",t),s=`${i}-preview`,l=a(),[c,v]=St(i),f=o.useMemo(()=>{if(n===!1)return n;const m=typeof n=="object"?n:{};return Object.assign(Object.assign({},m),{transitionName:$e(l,"zoom",m.transitionName),maskTransitionName:$e(l,"fade",m.maskTransitionName),rootClassName:v})},[n]);return c(o.createElement(Te.PreviewGroup,Object.assign({preview:f,previewPrefixCls:s,icons:Pt},r)))},Tn=Ln;var ct=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ot=e=>{var{prefixCls:t,preview:n,rootClassName:r}=e,a=ct(e,["prefixCls","preview","rootClassName"]);const{getPrefixCls:i,locale:s=Je,getPopupContainer:l}=o.useContext(ft),c=i("image",t),v=i(),f=s.Image||Je.Image,[m,g]=St(c),u=Y(r,g),p=o.useMemo(()=>{if(n===!1)return n;const P=typeof n=="object"?n:{},{getContainer:N}=P,M=ct(P,["getContainer"]);return Object.assign(Object.assign({mask:o.createElement("div",{className:`${c}-mask-info`},o.createElement($t,null),f==null?void 0:f.preview),icons:Pt},M),{getContainer:N||l,transitionName:$e(v,"zoom",P.transitionName),maskTransitionName:$e(v,"fade",P.maskTransitionName)})},[n,f]);return m(o.createElement(Te,Object.assign({prefixCls:`${c}`,preview:p,rootClassName:u},a)))};Ot.PreviewGroup=Tn;const Hn=Ot;export{Hn as I};
