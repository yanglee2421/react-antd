import{u as M,a as k,b as O,c as W,N as x,j as N}from"./index-381ec1c6.js";import{r as w,e as q,g as I,f as T}from"./antd-7672f7d4.js";const j=M;function z(){const a=k();return w.useEffect(()=>{const S=a.at(-1);if(!S)return;const r=S.handle,s=r==null?void 0:r.title;typeof s=="string"&&(document.title=s)},[a])}var R={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(a,S){(function(r,s){a.exports=s()})(q,function(){var r={};r.version="0.2.0";var s=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(t){var e,n;for(e in t)n=t[e],n!==void 0&&t.hasOwnProperty(e)&&(s[e]=n);return this},r.status=null,r.set=function(t){var e=r.isStarted();t=v(t,s.minimum,1),r.status=t===1?null:t;var n=r.render(!e),o=n.querySelector(s.barSelector),u=s.speed,d=s.easing;return n.offsetWidth,b(function(i){s.positionUsing===""&&(s.positionUsing=r.getPositioningCSS()),f(o,y(t,u,d)),t===1?(f(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){f(n,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){r.remove(),i()},u)},u)):setTimeout(i,u)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var t=function(){setTimeout(function(){r.status&&(r.trickle(),t())},s.trickleSpeed)};return s.trickle&&t(),this},r.done=function(t){return!t&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(t){var e=r.status;return e?(typeof t!="number"&&(t=(1-e)*v(Math.random()*e,.1,.95)),e=v(e+t,0,.994),r.set(e)):r.start()},r.trickle=function(){return r.inc(Math.random()*s.trickleRate)},function(){var t=0,e=0;r.promise=function(n){return!n||n.state()==="resolved"?this:(e===0&&r.start(),t++,e++,n.always(function(){e--,e===0?(t=0,r.done()):r.set((t-e)/t)}),this)}}(),r.render=function(t){if(r.isRendered())return document.getElementById("nprogress");L(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=s.template;var n=e.querySelector(s.barSelector),o=t?"-100":p(r.status||0),u=document.querySelector(s.parent),d;return f(n,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),s.showSpinner||(d=e.querySelector(s.spinnerSelector),d&&C(d)),u!=document.body&&L(u,"nprogress-custom-parent"),u.appendChild(e),e},r.remove=function(){P(document.documentElement,"nprogress-busy"),P(document.querySelector(s.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&C(t)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};function v(t,e,n){return t<e?e:t>n?n:t}function p(t){return(-1+t)*100}function y(t,e,n){var o;return s.positionUsing==="translate3d"?o={transform:"translate3d("+p(t)+"%,0,0)"}:s.positionUsing==="translate"?o={transform:"translate("+p(t)+"%,0)"}:o={"margin-left":p(t)+"%"},o.transition="all "+e+"ms "+n,o}var b=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),t.length==1&&e()}}(),f=function(){var t=["Webkit","O","Moz","ms"],e={};function n(i){return i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(c,l){return l.toUpperCase()})}function o(i){var c=document.body.style;if(i in c)return i;for(var l=t.length,h=i.charAt(0).toUpperCase()+i.slice(1),g;l--;)if(g=t[l]+h,g in c)return g;return i}function u(i){return i=n(i),e[i]||(e[i]=o(i))}function d(i,c,l){c=u(c),i.style[c]=l}return function(i,c){var l=arguments,h,g;if(l.length==2)for(h in c)g=c[h],g!==void 0&&c.hasOwnProperty(h)&&d(i,h,g);else d(i,l[1],l[2])}}();function m(t,e){var n=typeof t=="string"?t:E(t);return n.indexOf(" "+e+" ")>=0}function L(t,e){var n=E(t),o=n+e;m(n,e)||(t.className=o.substring(1))}function P(t,e){var n=E(t),o;m(t,e)&&(o=n.replace(" "+e+" "," "),t.className=o.substring(1,o.length-1))}function E(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function C(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return r})})(R);var B=R.exports;const U=I(B);function A(){const a=k();return w.useEffect(()=>(U.done(),()=>{U.start()}),[a])}const D=["login","list"],F=a=>D.includes(a);function G(){const a=O(),r=k().at(-1);if(!r)throw new Error("invalid routes");const{id:s,pathname:v}=r,p=s==="login",y=F(s),[b]=W(),f=j(m=>m.login.islogged);return w.useMemo(()=>{if(p){const C=b.get("returnURL")||"/";return f?T.createElement(x,{to:C}):a}if(y||f)return a;const m=new URLSearchParams;m.set("returnURL",v);const P={pathname:"/login",search:m.toString()};return T.createElement(x,{to:P})},[a,p,y,f,v,b])}function J(){const a=G();return z(),A(),N.jsx(N.Fragment,{children:a})}export{J as Component};
