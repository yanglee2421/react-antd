import{u as x,a as M,b as W,c as I,N as T,j as N}from"./index-6c9ed304.js";import{r as L,f as O,g as q,c as R}from"./antd-756ea8ee.js";function j(){const a=x();return L.useEffect(()=>{const p=a.at(-1);if(!p)return;const r=p.handle,s=r==null?void 0:r.title;typeof s=="string"&&(document.title=s)},[a])}var w={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(a,p){(function(r,s){a.exports=s()})(O,function(){var r={};r.version="0.2.0";var s=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(t){var e,n;for(e in t)n=t[e],n!==void 0&&t.hasOwnProperty(e)&&(s[e]=n);return this},r.status=null,r.set=function(t){var e=r.isStarted();t=m(t,s.minimum,1),r.status=t===1?null:t;var n=r.render(!e),o=n.querySelector(s.barSelector),u=s.speed,d=s.easing;return n.offsetWidth,k(function(i){s.positionUsing===""&&(s.positionUsing=r.getPositioningCSS()),h(o,E(t,u,d)),t===1?(h(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){h(n,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){r.remove(),i()},u)},u)):setTimeout(i,u)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var t=function(){setTimeout(function(){r.status&&(r.trickle(),t())},s.trickleSpeed)};return s.trickle&&t(),this},r.done=function(t){return!t&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(t){var e=r.status;return e?(typeof t!="number"&&(t=(1-e)*m(Math.random()*e,.1,.95)),e=m(e+t,0,.994),r.set(e)):r.start()},r.trickle=function(){return r.inc(Math.random()*s.trickleRate)},function(){var t=0,e=0;r.promise=function(n){return!n||n.state()==="resolved"?this:(e===0&&r.start(),t++,e++,n.always(function(){e--,e===0?(t=0,r.done()):r.set((t-e)/t)}),this)}}(),r.render=function(t){if(r.isRendered())return document.getElementById("nprogress");C(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=s.template;var n=e.querySelector(s.barSelector),o=t?"-100":f(r.status||0),u=document.querySelector(s.parent),d;return h(n,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),s.showSpinner||(d=e.querySelector(s.spinnerSelector),d&&P(d)),u!=document.body&&C(u,"nprogress-custom-parent"),u.appendChild(e),e},r.remove=function(){S(document.documentElement,"nprogress-busy"),S(document.querySelector(s.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&P(t)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};function m(t,e,n){return t<e?e:t>n?n:t}function f(t){return(-1+t)*100}function E(t,e,n){var o;return s.positionUsing==="translate3d"?o={transform:"translate3d("+f(t)+"%,0,0)"}:s.positionUsing==="translate"?o={transform:"translate("+f(t)+"%,0)"}:o={"margin-left":f(t)+"%"},o.transition="all "+e+"ms "+n,o}var k=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),t.length==1&&e()}}(),h=function(){var t=["Webkit","O","Moz","ms"],e={};function n(i){return i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(c,l){return l.toUpperCase()})}function o(i){var c=document.body.style;if(i in c)return i;for(var l=t.length,v=i.charAt(0).toUpperCase()+i.slice(1),g;l--;)if(g=t[l]+v,g in c)return g;return i}function u(i){return i=n(i),e[i]||(e[i]=o(i))}function d(i,c,l){c=u(c),i.style[c]=l}return function(i,c){var l=arguments,v,g;if(l.length==2)for(v in c)g=c[v],g!==void 0&&c.hasOwnProperty(v)&&d(i,v,g);else d(i,l[1],l[2])}}();function y(t,e){var n=typeof t=="string"?t:b(t);return n.indexOf(" "+e+" ")>=0}function C(t,e){var n=b(t),o=n+e;y(n,e)||(t.className=o.substring(1))}function S(t,e){var n=b(t),o;y(t,e)&&(o=n.replace(" "+e+" "," "),t.className=o.substring(1,o.length-1))}function b(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function P(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return r})})(w);var z=w.exports;const U=q(z);function B(){const a=x();return L.useEffect(()=>(U.done(),()=>{U.start()}),[a])}const A=["login","list"],D=a=>A.includes(a);function F(){const a=M(),p=x(),[r]=W(),s=p[p.length-1],m=I(f=>f.login.usr);return L.useMemo(()=>{const{id:f,pathname:E}=s;if(f==="login"){const P=r.get("returnURL")||"/";return m?R.createElement(T,{to:P}):a}if(D(f)||m)return a;const y=new URLSearchParams;y.set("returnURL",E);const S={pathname:"/login",search:y.toString()};return R.createElement(T,{to:S})},[a,p,r,m])}function V(){const a=F();return j(),B(),N.jsx(N.Fragment,{children:a})}export{V as Component};
